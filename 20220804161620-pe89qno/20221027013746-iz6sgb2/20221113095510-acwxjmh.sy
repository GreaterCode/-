{
	"ID": "20221113095510-acwxjmh",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20221113095510-acwxjmh",
		"title": "006 Runtime Component Operator运行容器",
		"updated": "20221113102105"
	},
	"Children": [
		{
			"ID": "20221113095511-obpdqoq",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20221113095511-obpdqoq",
				"updated": "20221113095807"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.  Opeartor 的调解（Reconcilition）功能"
				}
			]
		},
		{
			"ID": "20221113095856-6giz1ph",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113095856-6giz1ph",
				"updated": "20221113095856"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\tKubernetes 的 Operator 是一种封装、部署和管理云原生应用的机制。我们可以将云原生应用相关资源对象封装到 Operator 中的 Customer Resources （CR）中，这样 Operator 就可以管理云原生应用生命周期，包括：创建、升级、删除、自愈、备份等。"
				}
			]
		},
		{
			"ID": "20221113095918-c7tov74",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113095918-c7tov74",
				"updated": "20221113095921"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t当应用以 CR 方式运行期间，Operator 可以持续监控其状态，一旦发现当前状态和用户期望的状态不同，Operator 会进行自动调解（Reconcilition），将状态修正到用户期望的状态。"
				}
			]
		},
		{
			"ID": "20221113095951-87md2ia",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113095951-87md2ia",
				"updated": "20221113095953"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image.png"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20221113095953-jc1nrck.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221113095856-ywew7wk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113095856-ywew7wk",
				"updated": "20221113095903"
			}
		},
		{
			"ID": "20221113095810-lh767pl",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20221113095810-lh767pl",
				"updated": "20221113100528"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2. 用 Runtime Component Operator 运行容器应用"
				}
			]
		},
		{
			"ID": "20221113100637-29xcn0q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113100637-29xcn0q",
				"updated": "20221113100803"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t在 OpenShift 中提供了名为 Runtime Component 的 Operator，它可动态将云原生应用的资源对象封装到名为 RuntimeComponent 的标准 CR，就无需针对每个应用开发、封装一套operator。"
				}
			]
		},
		{
			"ID": "20221113100816-cjwbu8j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113100816-cjwbu8j",
				"updated": "20221113100818"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t通过 Runtime Component Operator 运行测试应用："
				}
			]
		},
		{
			"ID": "20221113100925-z1ihxgn",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221113100925-z1ihxgn",
				"updated": "20221113102006"
			},
			"Children": [
				{
					"ID": "20221113100926-bhuvzi0",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20221113100926-bhuvzi0"
					},
					"Children": [
						{
							"ID": "20221113100926-7lobil5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113100926-7lobil5"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "通过在 OpenShift 控制台创建一个名为 hello 的项目。"
								}
							]
						}
					]
				},
				{
					"ID": "20221113100933-b253uxr",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20221113100933-b253uxr"
					},
					"Children": [
						{
							"ID": "20221113100933-f4yrmbi",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113100933-f4yrmbi"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "使用默认配置安装 Runtime Component Operator，安装好后将会看到 Runtime Component。"
								}
							]
						},
						{
							"ID": "20221113101543-brq4yqk",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101543-brq4yqk",
								"updated": "20221113101546"
							},
							"Children": [
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image.png"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20221113101546-09e19vy.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20221113100952-4ps7mna",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20221113100952-4ps7mna"
					},
					"Children": [
						{
							"ID": "20221113100952-wtvqqv3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113100952-wtvqqv3",
								"updated": "20221113100953"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进入安装好的 Runtime Component Operator ，创建 RuntimeComponent 实例。"
								}
							]
						},
						{
							"ID": "20221113101635-gc0z9bj",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101635-gc0z9bj",
								"updated": "20221113101637"
							},
							"Children": [
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image.png"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20221113101637-sgz5evu.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20221113101004-veybeo7",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20221113101004-veybeo7"
					},
					"Children": [
						{
							"ID": "20221113101006-vmb405q",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101006-vmb405q",
								"updated": "20221113101054"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "在 Application Image 中提供 “docker.io/openshift/hello-openshift” 镜像名，Service Port 设为 hello-openshift 用到的 8080 端口。注意："
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "mark",
									"TextMarkTextContent": "Runtime Component 只持支运行 Image，不支持 OpenShift 的 s2i"
								},
								{
									"Type": "NodeText",
									"Data": "，而且 Image 需要使用带域名的全路径地址。"
								}
							]
						},
						{
							"ID": "20221113101729-zt7ofus",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101729-zt7ofus",
								"updated": "20221113101732"
							},
							"Children": [
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image.png"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20221113101732-tl3bxhf.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20221113101113-p9alo8v",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NS4=",
						"Num": 5
					},
					"Properties": {
						"id": "20221113101113-p9alo8v"
					},
					"Children": [
						{
							"ID": "20221113101113-7halsn2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101113-7halsn2",
								"updated": "20221113101127"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "创建 Runtime Component 完后可以看到该实例的状态为 “Reconciled”，即当前运行状态符合CR定义的期望状态。"
								}
							]
						},
						{
							"ID": "20221113101806-1euo2gk",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101806-1euo2gk",
								"updated": "20221113101809"
							},
							"Children": [
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image.png"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20221113101808-bm5uvg2.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20221113101142-0pkgt3c",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Ni4=",
						"Num": 6
					},
					"Properties": {
						"id": "20221113101142-0pkgt3c",
						"updated": "20221113102006"
					},
					"Children": [
						{
							"ID": "20221113101142-88n2548",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101142-88n2548",
								"updated": "20221113101144"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进入 Runtime Component 实例后可以在 Resources 中看到所有通过 CR 维护的资源。"
								}
							]
						},
						{
							"ID": "20221113102004-2y874fj",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113102004-2y874fj",
								"updated": "20221113102006"
							},
							"Children": [
								{
									"Type": "NodeImage",
									"Data": "span",
									"Children": [
										{
											"Type": "NodeBang"
										},
										{
											"Type": "NodeOpenBracket"
										},
										{
											"Type": "NodeLinkText",
											"Data": "image.png"
										},
										{
											"Type": "NodeCloseBracket"
										},
										{
											"Type": "NodeOpenParen"
										},
										{
											"Type": "NodeLinkDest",
											"Data": "assets/image-20221113102006-3v4ma8k.png"
										},
										{
											"Type": "NodeCloseParen"
										}
									]
								}
							]
						}
					]
				},
				{
					"ID": "20221113101204-qnh8sle",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Ny4=",
						"Num": 7
					},
					"Properties": {
						"id": "20221113101204-qnh8sle"
					},
					"Children": [
						{
							"ID": "20221113101205-hvmv4r6",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101205-hvmv4r6"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "通过 Route 确认可以访问 hello-openshift 应用。"
								}
							]
						}
					]
				},
				{
					"ID": "20221113101230-z7pyphv",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "OC4=",
						"Num": 8
					},
					"Properties": {
						"id": "20221113101230-z7pyphv"
					},
					"Children": [
						{
							"ID": "20221113101230-85z1wrv",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101230-85z1wrv",
								"updated": "20221113101232"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "进入到 OpenShift 开发者视图，可以调整 pod 数量，或者更改 Deployment 的其他配置（标签，健康检查）。确认这些直接修改操作是无效的。"
								}
							]
						}
					]
				},
				{
					"ID": "20221113101258-4jb3wm4",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "OS4=",
						"Num": 9
					},
					"Properties": {
						"id": "20221113101258-4jb3wm4"
					},
					"Children": [
						{
							"ID": "20221113101258-asma2g3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101258-asma2g3",
								"updated": "20221113101300"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "通过 “操作” 删除 Deployment，确认提示 “该资源由 runtimecomponent-sample 管理，任何修改都可能会被覆盖。编辑管理资源以保留更改”。所以 Deployment 也无法直接修改。"
								}
							]
						}
					]
				},
				{
					"ID": "20221113101333-mvj0na5",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MTAu",
						"Num": 10
					},
					"Properties": {
						"id": "20221113101333-mvj0na5"
					},
					"Children": [
						{
							"ID": "20221113101333-ozztsvd",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101333-ozztsvd",
								"updated": "20221113101335"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "修改 runtimecomponent-sample 实例的 YAML，将 “replicas” 的数量改为 2。"
								}
							]
						}
					]
				},
				{
					"ID": "20221113101343-y1xqa47",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MTEu",
						"Num": 11
					},
					"Properties": {
						"id": "20221113101343-y1xqa47"
					},
					"Children": [
						{
							"ID": "20221113101343-7u3j97s",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221113101343-7u3j97s",
								"updated": "20221113101345"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "确认此时 Deployment 中的 pod 数量增加到 2 了。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221113101401-d3m39xx",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20221113101401-d3m39xx",
				"updated": "20221113101412"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3. 参考"
				}
			]
		},
		{
			"ID": "20221113101406-74ue1vv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113101406-74ue1vv",
				"updated": "20221113101431"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://github.com/application-stacks/runtime-component-operator/blob/main/doc/user-guide-v1beta2.adoc",
					"TextMarkTextContent": "参考文档"
				}
			]
		},
		{
			"ID": "20221113101406-76kz83e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113101406-76kz83e",
				"updated": "20221113101436"
			}
		},
		{
			"ID": "20221113100831-v5pwuys",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221113100831-v5pwuys",
				"updated": "20221113100831"
			}
		}
	]
}