{
	"ID": "20221114032124-co1akd8",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20221114032124-co1akd8",
		"title": "6. OpenShift 4 - 基于URL的应用路由_dawnsky.liu的博客-CSDN博客",
		"updated": "20221114051937"
	},
	"Children": [
		{
			"ID": "20221114032124-dccp43d",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20221114032124-dccp43d"
			}
		},
		{
			"ID": "20221114032124-7kaj3ss",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221114032124-7kaj3ss"
			},
			"Children": [
				{
					"ID": "20221114032124-kqdn59x",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221114032124-kqdn59x"
					},
					"Children": [
						{
							"ID": "20221114032124-vfxrhx2",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-vfxrhx2"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "a",
									"TextMarkAHref": "https://blog.csdn.net/weixin_43902588/article/details/108233239",
									"TextMarkTextContent": "https://blog.csdn.net/weixin_43902588/article/details/108233239"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-t1n41ri",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20221114032124-t1n41ri"
			}
		},
		{
			"ID": "20221114032124-dyqc7gx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221114032124-dyqc7gx",
				"updated": "20221114032124"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "                    《"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://blog.csdn.net/weixin_43902588/article/details/105060359",
					"TextMarkTextContent": "OpenShift 4.x HOL教程汇总"
				},
				{
					"Type": "NodeText",
					"Data": "》\n 说明：本文已经在"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://so.csdn.net/so/search?q=OpenShift\u0026spm=1001.2101.3001.7020",
					"TextMarkTextContent": "OpenShift"
				},
				{
					"Type": "NodeText",
					"Data": " 4.6环境中验证"
				}
			]
		},
		{
			"ID": "20221114032124-qae4brm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221114032124-qae4brm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "本文部署4个应用，我们将使用相同的域名和不同的路径来访问它们。\n "
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "在这里插入图片描述"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/20200826091517620-20221114032124-346cuwc.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-ycmxm9b",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-ycmxm9b"
			},
			"Children": [
				{
					"ID": "20221114032124-wrfkijb",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20221114032124-wrfkijb"
					},
					"Children": [
						{
							"ID": "20221114032124-yo7uhv0",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-yo7uhv0"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "创建项目并部署4个应用。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-0m0u86x",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-0m0u86x"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc new-project myholiday\n$ oc new-app https://github.com/liuxiaoyu-git/workshop4.git --context-dir=attendee/myholiday \\\n--name=short-holiday -l app.kubernetes.io/part-of=holidays HOLIDAY_TYPE=short-break\n$ oc new-app https://github.com/liuxiaoyu-git/workshop4.git --context-dir=attendee/myholiday \\\n--name=package-holiday -l app.kubernetes.io/part-of=holidays HOLIDAY_TYPE=package\n$ oc new-app https://github.com/liuxiaoyu-git/workshop4.git --context-dir=attendee/myholiday \\\n--name=cruise-holiday -l app.kubernetes.io/part-of=holidays HOLIDAY_TYPE=cruise\n$ oc new-app https://github.com/liuxiaoyu-git/workshop4.git --context-dir=attendee/myholiday \\\n--name=adventure-holiday -l app.kubernetes.io/part-of=holidays HOLIDAY_TYPE=adventure\n123456789\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032124-k4syaf0",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-k4syaf0"
			},
			"Children": [
				{
					"ID": "20221114032124-kmsn5mc",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20221114032124-kmsn5mc"
					},
					"Children": [
						{
							"ID": "20221114032124-dculgwy",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-dculgwy"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "查看应用的build。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-s5wlz8k",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-s5wlz8k"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc get build \nNAME                  TYPE     FROM          STATUS     STARTED          DURATION\nshort-holiday-1       Source   Git@71f1426   Complete   20 minutes ago   1m1s\npackage-holiday-1     Source   Git@71f1426   Complete   20 minutes ago   1m4s\ncruise-holiday-1      Source   Git@71f1426   Complete   20 minutes ago   1m12s\nadventure-holiday-1   Source   Git@71f1426   Complete   20 minutes ago   1m6s\n123456\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032124-guhaauf",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-guhaauf"
			},
			"Children": [
				{
					"ID": "20221114032124-vfm3gdb",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20221114032124-vfm3gdb"
					},
					"Children": [
						{
							"ID": "20221114032124-ulta1dx",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-ulta1dx"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "查看生成的Service。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-tozwvd8",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-tozwvd8"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc get svc \nNAME                TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\nadventure-holiday   ClusterIP   172.30.42.48     \u003cnone\u003e        8080/TCP   48m\ncruise-holiday      ClusterIP   172.30.135.169   \u003cnone\u003e        8080/TCP   48m\npackage-holiday     ClusterIP   172.30.119.103   \u003cnone\u003e        8080/TCP   48m\nshort-holiday       ClusterIP   172.30.135.218   \u003cnone\u003e        8080/TCP   48m\n123456\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032124-vhshg5y",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-vhshg5y"
			},
			"Children": [
				{
					"ID": "20221114032124-bdvvwy2",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20221114032124-bdvvwy2"
					},
					"Children": [
						{
							"ID": "20221114032124-xszxw38",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-xszxw38"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "获取统一的应用访问地址，然后根据它生成Route。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-psgg6jd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-psgg6jd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ HOLIDY_HOST=$(oc project -q).apps.$(oc whoami --show-server | cut -d\".\" -f2- | cut -d\":\" -f1)\n$ oc expose svc adventure-holiday --hostname=\"${HOLIDY_HOST}\" --path=\"/adventure\"\n$ oc expose svc cruise-holiday --hostname=\"${HOLIDY_HOST}\" --path=\"/cruise\"\n$ oc expose svc package-holiday --hostname=\"${HOLIDY_HOST}\" --path=\"/package\"\n$ oc expose svc short-holiday --hostname=\"${HOLIDY_HOST}\" --path=\"/short\"\n12345\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032124-rlo5xdd",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-rlo5xdd"
			},
			"Children": [
				{
					"ID": "20221114032124-rqag7js",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NS4=",
						"Num": 5
					},
					"Properties": {
						"id": "20221114032124-rqag7js"
					},
					"Children": [
						{
							"ID": "20221114032124-ydagnby",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-ydagnby"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "查看4个访问应用的Route。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-bxbs6h5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-bxbs6h5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc get route \nNAME                  HOST/PORT                                                                PATH           SERVICES            PORT       TERMINATION   WILDCARD\nadventure-route       myholiday.apps.cluster-shanxi-db26.shanxi-db26.sandbox1438.opentlc.com   /adventure     adventure-holiday   \u003call\u003e                    None\ncruise-route          myholiday.apps.cluster-shanxi-db26.shanxi-db26.sandbox1438.opentlc.com   /cruise        cruise-holiday      \u003call\u003e                    None\npackage-route         myholiday.apps.cluster-shanxi-db26.shanxi-db26.sandbox1438.opentlc.com   /package       package-holiday     \u003call\u003e                    None\nshort-holiday-route   myholiday.apps.cluster-shanxi-db26.shanxi-db26.sandbox1438.opentlc.com   /short-break   short-holiday       \u003call\u003e                    None\n123456\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032124-orytvcr",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032124-orytvcr"
			},
			"Children": [
				{
					"ID": "20221114032124-0est1mb",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Ni4=",
						"Num": 6
					},
					"Properties": {
						"id": "20221114032124-0est1mb"
					},
					"Children": [
						{
							"ID": "20221114032124-g5hyusm",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032124-g5hyusm"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "根据URL访问4个应用。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032124-0kyha3o",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032124-0kyha3o"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ curl ${HOLIDY_HOST}/adventure\n$ curl ${HOLIDY_HOST}/cruise\n$ curl ${HOLIDY_HOST}/package\n$ curl ${HOLIDY_HOST}/short-break\n1234\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		}
	]
}