{
	"ID": "20221114032413-iw09rxk",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20221114032413-iw09rxk",
		"title": "5. OpenShift 4 之使用https协议访问Route_dawnsky.liu的博客-CSDN博客",
		"updated": "20221114051841"
	},
	"Children": [
		{
			"ID": "20221114032413-wl9uuba",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20221114032413-wl9uuba"
			}
		},
		{
			"ID": "20221114032413-x1byjbd",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221114032413-x1byjbd"
			},
			"Children": [
				{
					"ID": "20221114032413-etipuwj",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221114032413-etipuwj"
					},
					"Children": [
						{
							"ID": "20221114032413-0vs6ico",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-0vs6ico"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "a",
									"TextMarkAHref": "https://blog.csdn.net/weixin_43902588/article/details/103495890",
									"TextMarkTextContent": "https://blog.csdn.net/weixin_43902588/article/details/103495890"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-bvzjbwh",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20221114032413-bvzjbwh"
			}
		},
		{
			"ID": "20221114032413-tj6gq3l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221114032413-tj6gq3l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "《"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://blog.csdn.net/weixin_43902588/article/details/105060359",
					"TextMarkTextContent": "OpenShift 4.x HOL教程汇总"
				},
				{
					"Type": "NodeText",
					"Data": "》\n 说明：本文已经在"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://so.csdn.net/so/search?q=OpenShift\u0026spm=1001.2101.3001.7020",
					"TextMarkTextContent": "OpenShift"
				},
				{
					"Type": "NodeText",
					"Data": " 4.6环境中验证"
				}
			]
		},
		{
			"ID": "20221114032413-scmyd21",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221114032413-scmyd21"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "使用OpenShift的oc命令可以将Service内部访问转为（oc的expose子命令）可从外部访问的Route，这种转换缺省是使用http协议访问应用的。如果要支持https协议，除了需要生成证书外，还需要用“oc create route”来创建Route对象。"
				}
			]
		},
		{
			"ID": "20221114032413-84efr0m",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032413-84efr0m"
			},
			"Children": [
				{
					"ID": "20221114032413-r63bnev",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20221114032413-r63bnev"
					},
					"Children": [
						{
							"ID": "20221114032413-428s9k3",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-428s9k3"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "首先部署一个测试应用"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-i1m6l3o",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-i1m6l3o"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc new-project https\n$ oc new-app openshift/hello-openshift\n12\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032413-19ostt3",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032413-19ostt3"
			},
			"Children": [
				{
					"ID": "20221114032413-0clcr9y",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20221114032413-0clcr9y"
					},
					"Children": [
						{
							"ID": "20221114032413-aeymolz",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-aeymolz"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "生成访该hello应用的FQDN名称。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-tdb7m99",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-tdb7m99"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ HELLO_HOSTNAME=hello.$(oc get ingresscontroller default -n openshift-ingress-operator -o jsonpath='{.status.domain}')\n1\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032413-y74pccx",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032413-y74pccx"
			},
			"Children": [
				{
					"ID": "20221114032413-u0f61wt",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20221114032413-u0f61wt"
					},
					"Children": [
						{
							"ID": "20221114032413-rpi8knb",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-rpi8knb"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "创建访问FQDN地址的SSL密钥和证书。"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-z2pfm9t",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-z2pfm9t"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ openssl req -newkey rsa:4096 -nodes -sha256 -keyout example.key -x509 -days 365 -out example.crt -subj \"/C=CN/ST=BEIJING/L=BJ/O=REDHAT/OU=IT/CN=${HELLO_HOSTNAME}\"\n1\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032413-76y2fne",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221114032413-76y2fne"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": " "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "注意"
				},
				{
					"Type": "NodeText",
					"Data": " ：FQDN长度不能超过64个字符，否则会报下面错误。"
				}
			]
		},
		{
			"ID": "20221114032413-8p6jini",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-8p6jini"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "140559095121728:error:0D07A097:asn1 encoding routines:ASN1_mbstring_ncopy:string too long:crypto/asn1/a_mbstr.c:107:maxsize=64\n1\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032413-9mt7zwz",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032413-9mt7zwz"
			},
			"Children": [
				{
					"ID": "20221114032413-vfkm4za",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20221114032413-vfkm4za"
					},
					"Children": [
						{
							"ID": "20221114032413-hroue5u",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-hroue5u"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "根据密钥、证书和Service创建Route，并指定访问的FQDN"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-89nqf23",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-89nqf23"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ oc create route edge --service=hello-openshift --hostname=${HELLO_HOSTNAME} --key=example.key --cert=example.crt\n1\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221114032413-k1z6pti",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20221114032413-k1z6pti"
			},
			"Children": [
				{
					"ID": "20221114032413-h7fnwqe",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NS4=",
						"Num": 5
					},
					"Properties": {
						"id": "20221114032413-h7fnwqe"
					},
					"Children": [
						{
							"ID": "20221114032413-jsd6qly",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221114032413-jsd6qly"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "用https协议访问Route"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221114032413-z539cuo",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221114032413-z539cuo"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "YmFzaA=="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "$ curl --cacert example.crt https://$(oc get route hello-openshift -o template --template '{ {.spec.host}}')\nHello OpenShift!\n12\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		}
	]
}