{
	"ID": "20221019101740-ji3s9qe",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20221019101740-ji3s9qe",
		"title": "calicoctl",
		"updated": "20221019111925"
	},
	"Children": [
		{
			"ID": "20221019101740-5zij0zh",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20221019101740-5zij0zh",
				"updated": "20221019102012"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1. 安装"
				}
			]
		},
		{
			"ID": "20221019102017-cdyrmsm",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102017-cdyrmsm",
				"updated": "20221019102056"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "# 注意： 版本必须一致，否则无法使用\ncurl -o calicoctl -O -L  \"https://github.com/projectcalico/calicoctl/releases/download/v3.20.0/calicoctl\"\nmv calicoctl /usr/local/bin\nchmod +x calicoctl\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019102018-4yn0rcx",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20221019102018-4yn0rcx",
				"updated": "20221019102105"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2. 使用"
				}
			]
		},
		{
			"ID": "20221019102950-hfayiab",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019102950-hfayiab",
				"updated": "20221019102953"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看节点列表"
				}
			]
		},
		{
			"ID": "20221019102108-ib4vff5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102108-ib4vff5",
				"updated": "20221019102136"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "#查看节点简单信息\ncalicoctl get node \n\n#查看节点详细信息,输出会很长，可以输出到文件再查看\ncalicoctl get node -o yaml \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019103015-a9dt8ji",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019103015-a9dt8ji",
				"updated": "20221019103019"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看节点状态"
				}
			]
		},
		{
			"ID": "20221019102208-ytbfu39",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102208-ytbfu39",
				"updated": "20221019102353"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "# calicoctl  node status\nCalico process is running.\n\nIPv4 BGP status\n+---------------+-------------------+-------+----------+-------------+\n| PEER ADDRESS  |     PEER TYPE     | STATE |  SINCE   |    INFO     |\n+---------------+-------------------+-------+----------+-------------+\n| 10.253.15.162 | node-to-node mesh | up    | 16:28:42 | Established |\n| 10.253.15.163 | node-to-node mesh | up    | 16:28:42 | Established |\n| 10.253.15.108 | node-to-node mesh | up    | 22:46:08 | Established |\n\n全互联模式(node-to-node mesh)模式,节点状态都是正常的(up),路由连接都已经相互建立好了\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019103038-2130f3e",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019103038-2130f3e",
				"updated": "20221019103049"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "节点检查"
				}
			]
		},
		{
			"ID": "20221019102256-01ud0hx",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102256-01ud0hx",
				"updated": "20221019111925"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "# calicoctl node checksystem\nChecking kernel version...\n\t\t4.18.0-37200.9.1.cl8.x86_64\t\t\t\t\tOK\nChecking kernel modules...\n\t\txt_conntrack        \t\t\t\t\tOK\n\t\txt_icmp6            \t\t\t\t\tOK\n\t\txt_multiport        \t\t\t\t\tOK\n\t\tipt_set             \t\t\t\t\tOK\n\t\tnf_conntrack_netlink\t\t\t\t\tOK\n\t\txt_addrtype         \t\t\t\t\tOK\n\t\txt_mark             \t\t\t\t\tOK\n\t\txt_set              \t\t\t\t\tOK\n\t\tip_tables           \t\t\t\t\tOK\n\t\tipt_REJECT          \t\t\t\t\tOK\n\t\txt_icmp             \t\t\t\t\tOK\n\n\txt_bpf              \t\t\t\t\tOK\n\t\txt_u32              \t\t\t\t\tOK\n\t\tvfio-pci            \t\t\t\t\tOK\n\t\tipt_rpfilter        \t\t\t\t\tOK\n\t\txt_rpfilter         \t\t\t\t\tOK\n\t\tip_set              \t\t\t\t\tOK\n\t\tip6_tables          \t\t\t\t\tOK\n\t\tipt_ipvs            \t\t\t\t\tOK\nSystem meets minimum system requirements to run Calico!\n\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019103057-pgwnbhj",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019103057-pgwnbhj",
				"updated": "20221019103103"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "节点诊断"
				}
			]
		},
		{
			"ID": "20221019102523-h8oyjic",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019102523-h8oyjic",
				"updated": "20221019102536"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t执行诊断命令，会采集系统和calico相关日志，输出到一个文件"
				}
			]
		},
		{
			"ID": "20221019102533-2k75joi",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102533-2k75joi",
				"updated": "20221019102627"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "#calicoctl node diags\nCollecting diagnostics\nUsing temp dir: /tmp/calico863668447\nDumping netstat\nDumping routes (IPv4)\n\nDumping routes (IPv6)\nDumping interface info (IPv4)\nDumping interface info (IPv6)\nDumping iptables (IPv4)\nDumping iptables (IPv6)\nDumping ipsets\nDumping ipsets (container)\nFailed to run command: docker run --rm --privileged --net=host calico/node ipset list\nError: \nCopying journal for calico-node.service\nDumping felix stats\nFailed to run command: pkill -SIGUSR1 felix\nError: \nCopying Calico logs\nError creating log directory: mkdir /tmp/calico863668447/diagnostics/logs: file exists\n\nDiags saved to /tmp/calico863668447/diags-20221019_102544.tar.gz\nIf required, you can upload the diagnostics bundle to a file sharing service\nsuch as transfer.sh using curl or similar.  For example:\n\n    curl --upload-file /tmp/calico863668447/diags-20221019_102544.tar.gz https://transfer.sh//tmp/calico863668447/diags-20221019_102544.tar.gz\n\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019102646-n4y0y4f",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019102646-n4y0y4f",
				"updated": "20221019102648"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t该命令虽然会报错，但是采集的日志实际上好了。直接查看红框目录下的诊断日志既可"
				}
			]
		},
		{
			"ID": "20221019102653-k892vhs",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221019102653-k892vhs",
				"updated": "20221019102703"
			},
			"Children": [
				{
					"ID": "20221019102659-se4b49j",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221019102659-se4b49j",
						"updated": "20221019102703"
					},
					"Children": [
						{
							"ID": "20221019102659-8jn3ong",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221019102659-8jn3ong",
								"updated": "20221019102703"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "查看ip池"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221019102728-mtn4vwk",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019102728-mtn4vwk",
				"updated": "20221019102802"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "#calicoctl get ippool\nNAME                  CIDR            SELECTOR   \ndefault-ipv4-ippool   192.168.0.0/16   all()  \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019102738-otxnys5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019102738-otxnys5",
				"updated": "20221019102751"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t在初始k8s集群没的指定cdir的网段，这里默认就是192.168.0.0/16，另外ipip模式，nat出口都是启用的，vxlan虚拟子网模式是关闭的"
				}
			]
		},
		{
			"ID": "20221019102927-w16thki",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019102927-w16thki",
				"updated": "20221019103128"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "IPAM"
				}
			]
		},
		{
			"ID": "20221019103120-l04707p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019103120-l04707p",
				"updated": "20221019103143"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\tipam是calico的一个ip管理模块"
				}
			]
		},
		{
			"ID": "20221019103156-lmgl8dh",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019103156-lmgl8dh",
				"updated": "20221019105007"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "#查看ip的地址的总量和已经分配的ip详细信息\ncalicoctl ipam show\n\n+----------+---------------+-----------+------------+-------------+\n| GROUPING |     CIDR      | IPS TOTAL | IPS IN USE |  IPS FREE   |\n+----------+---------------+-----------+------------+-------------+\n| IP Pool  | 10.200.0.0/16 |     65536 | 1005 (2%)  | 64531 (98%) |\n+----------+---------------+-----------+------------+-------------+\n\n\n#查看ipam当前的详细信息\n#calicoctl ipam check\nChecking IPAM for inconsistencies...\n\nLoading all IPAM blocks...\nFound 60 IPAM blocks.\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019103218-xkhaz3f",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20221019103218-xkhaz3f",
				"updated": "20221019103511"
			},
			"Children": [
				{
					"ID": "20221019103430-n6xx5da",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20221019103430-n6xx5da",
						"updated": "20221019103511"
					},
					"Children": [
						{
							"ID": "20221019103430-orux1j7",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221019103430-orux1j7",
								"updated": "20221019103436"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": " ipam网络管理配置\n释放ip地址，只会释放已经没有使有的端点ip,已经在使用的不会释放，此命令慎用\n"
								},
								{
									"Type": "NodeTextMark",
									"TextMarkType": "code",
									"TextMarkTextContent": "calicoctl ipam release --ip=192.168.1.2"
								}
							]
						},
						{
							"ID": "20221019103459-bt06abe",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221019103459-bt06abe",
								"updated": "20221019103459"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "允许借用ip"
								}
							]
						},
						{
							"ID": "20221019103459-7r5gkfi",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20221019103459-7r5gkfi",
								"updated": "20221019103511"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "calicoctl ipam configure --strictaffinity=true"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20221019103537-djljl6q",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019103537-djljl6q",
				"updated": "20221019103537"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "网络资源管理"
				}
			]
		},
		{
			"ID": "20221019104034-b7du1e6",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104034-b7du1e6",
				"updated": "20221019104034"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "创建一个新网络"
				}
			]
		},
		{
			"ID": "20221019104942-vq4qdg0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104942-vq4qdg0",
				"updated": "20221019104943"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t因为我们安装calico时默认都创建好了，所以不需要动，基本上不需要人工干预"
				}
			]
		},
		{
			"ID": "20221019104950-v8ksjya",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104950-v8ksjya",
				"updated": "20221019104954"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "calicoctl create -f xxx.json"
				}
			]
		},
		{
			"ID": "20221019104040-9jlsq4e",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104040-9jlsq4e",
				"updated": "20221019104040"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看网络资源信息"
				}
			]
		},
		{
			"ID": "20221019104815-yrobsdh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104815-yrobsdh",
				"updated": "20221019104815"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t过滤出calico创建的资源"
				}
			]
		},
		{
			"ID": "20221019104828-mjzhpci",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104828-mjzhpci",
				"updated": "20221019104847"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": " \t\t"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "calicoctl get profile | grep calico"
				}
			]
		},
		{
			"ID": "20221019104908-jeaz6zp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104908-jeaz6zp",
				"updated": "20221019104908"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t查看资源详细"
				}
			]
		},
		{
			"ID": "20221019104918-4grg9cx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104918-4grg9cx",
				"updated": "20221019104928"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t\t"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "calicoctl get profile projectcalico-default-allow -o json"
				}
			]
		},
		{
			"ID": "20221019104047-gb1klnh",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104047-gb1klnh",
				"updated": "20221019104744"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "替换网络资源"
				}
			]
		},
		{
			"ID": "20221019104744-pbgk2yb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104744-pbgk2yb",
				"updated": "20221019104744"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t就是更新已经创建好的资源，不清楚配置前不能随意改动"
				}
			]
		},
		{
			"ID": "20221019104801-wnzut06",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104801-wnzut06",
				"updated": "20221019104810"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "calicoctl replace -f xxxx2.json"
				}
			]
		},
		{
			"ID": "20221019104055-5zegm65",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104055-5zegm65",
				"updated": "20221019104055"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "删除网络资源"
				}
			]
		},
		{
			"ID": "20221019104648-u09t18j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104648-u09t18j",
				"updated": "20221019104657"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"Properties": {
						"style": "color: var(--b3-font-color8);"
					},
					"TextMarkType": "strong",
					"TextMarkTextContent": "\t慎用，，执行可能会导致集群崩溃"
				},
				{
					"Type": "NodeKramdownSpanIAL",
					"Data": "{: style=\"color: var(--b3-font-color8);\"}"
				}
			]
		},
		{
			"ID": "20221019104701-rqqnsad",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104701-rqqnsad",
				"updated": "20221019104726"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "calicoctl delete profile xxxxxx"
				}
			]
		},
		{
			"ID": "20221019104118-vm1y8be",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104118-vm1y8be",
				"updated": "20221019104126"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "apply"
				}
			]
		},
		{
			"ID": "20221019104735-ccoi379",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104735-ccoi379",
				"updated": "20221019104737"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t综合了 create 和 replace 命令。没有资源时就创建，有资源时就替换。和kubectl 的appley 技术相似"
				}
			]
		},
		{
			"ID": "20221019104136-s7821ug",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019104136-s7821ug",
				"updated": "20221019104136"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看get"
				}
			]
		},
		{
			"ID": "20221019104624-iff4dwa",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104624-iff4dwa",
				"updated": "20221019104627"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\tget命令 除了node,profile等还是其他的有效资源都可以查看,如果资源没有创建，返回是空"
				}
			]
		},
		{
			"ID": "20221019104628-x1xsx38",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104628-x1xsx38",
				"updated": "20221019104638"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t"
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image.png"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20221019104638-qv2jy7s.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20221019104144-mcgn9g5",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20221019104144-mcgn9g5",
				"updated": "20221019104144"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "元数据备份"
				}
			]
		},
		{
			"ID": "20221019104153-kwac2xk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104153-kwac2xk",
				"updated": "20221019104207"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\t在执行备份之前，需要有calicoctl对应的配置文件，另外在执行导出导入时，需要先加锁，导出导入成功后再解锁。coctl配置文件默认在: /etc/calico/calicoctl.cfg，但是我们是二进制安装的，其实是没有的。需要自行创建"
				}
			]
		},
		{
			"ID": "20221019104236-twc026f",
			"Type": "NodeHeading",
			"HeadingLevel": 5,
			"Properties": {
				"id": "20221019104236-twc026f",
				"updated": "20221019104237"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置文件例子"
				}
			]
		},
		{
			"ID": "20221019104243-17jbfvk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104243-17jbfvk",
				"updated": "20221019104243"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "根据自已的证书路径自行修改"
				}
			]
		},
		{
			"ID": "20221019104249-10t8hov",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019104249-10t8hov",
				"updated": "20221019104319"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "apiVersion: projectcalico.org/v3\nkind: CalicoAPIConfig\nmetadata:\nspec:\n  etcdEndpoints: https://etcd1:2379,https://etcd2:2379,https://etcd3:2379\n  etcdKeyFile: /etc/calico/key.pem\n  etcdCertFile: /etc/calico/cert.pem\n  etcdCACertFile: /etc/calico/ca.pem\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019104329-g71wipe",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104329-g71wipe",
				"updated": "20221019104329"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "数据导出"
				}
			]
		},
		{
			"ID": "20221019104347-wxqsq2q",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019104347-wxqsq2q",
				"updated": "20221019104357"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "calicoctl datastore migrate lock\ncalicoctl datastore migrate export\ncalicoctl datastore migrate unlock\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019104329-ce5f5lh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104329-ce5f5lh",
				"updated": "20221019104338"
			}
		},
		{
			"ID": "20221019104408-mmh47z4",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20221019104408-mmh47z4",
				"updated": "20221019104408"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "数据导入"
				}
			]
		},
		{
			"ID": "20221019104532-isd2tch",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20221019104532-isd2tch",
				"updated": "20221019104536"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker",
					"CodeBlockInfo": "c2hlbGw="
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "calicoctl datastore migrate lock\ncalicoctl datastore migrate import \ncalicoctl datastore migrate unlock\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20221019104408-wpgt7th",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20221019104408-wpgt7th",
				"updated": "20221019104412"
			}
		}
	]
}