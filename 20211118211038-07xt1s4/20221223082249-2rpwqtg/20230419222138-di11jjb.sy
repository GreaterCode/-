{
	"ID": "20230419222138-di11jjb",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20230419222138-di11jjb",
		"scroll": "{\u0026quot;startId\u0026quot;:\u0026quot;20230419222324-yb3gg7t\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230419222138-opac9n9\u0026quot;,\u0026quot;scrollTop\u0026quot;:0,\u0026quot;focusId\u0026quot;:\u0026quot;20230419222138-tjsrs1l\u0026quot;,\u0026quot;focusStart\u0026quot;:0,\u0026quot;focusEnd\u0026quot;:0}",
		"title": "PXE grub 修改说明",
		"updated": "20230419222326"
	},
	"Children": [
		{
			"ID": "20230419222324-yb3gg7t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222324-yb3gg7t",
				"updated": "20230419222326"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "GNU GRUB Manual 2.06: Network"
				}
			]
		},
		{
			"ID": "20230419222138-tjsrs1l",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230419222138-tjsrs1l",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "8 Booting GRUB from the network"
				}
			]
		},
		{
			"ID": "20230419222138-9b8fycq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-9b8fycq",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "The following instructions don’t work for *-emu, i386-qemu, i386-coreboot, i386-multiboot, mips_loongson, mips-arc and mips_qemu_mips"
				}
			]
		},
		{
			"ID": "20230419222138-8jjip2d",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-8jjip2d",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "To generate a netbootable directory, run:"
				}
			]
		},
		{
			"ID": "20230419222138-2x60tco",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230419222138-2x60tco",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "grub-mknetdir --net-directory=/srv/tftp --subdir=/boot/grub -d /usr/lib/grub/\u003cplatform\u003e\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230419222138-uwgfioh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-uwgfioh",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "E.g. for i386-pc:"
				}
			]
		},
		{
			"ID": "20230419222138-azro55h",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230419222138-azro55h",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "grub-mknetdir --net-directory=/srv/tftp --subdir=/boot/grub -d /usr/lib/grub/i386-pc\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230419222138-y3rzoq0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-y3rzoq0",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Then follow instructions printed out by grub-mknetdir on configuring your DHCP server."
				}
			]
		},
		{
			"ID": "20230419222138-2hxyr0g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-2hxyr0g",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "The grub.cfg file is placed in the same directory as the path output by grub-mknetdir hereafter referred to as FWPATH. GRUB will search for its configuration files in order using the following rules where the appended value corresponds to a value on the client machine."
				}
			]
		},
		{
			"ID": "20230419222138-5c7obr4",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230419222138-5c7obr4",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "‘(FWPATH)’/grub.cfg-‘(UUID OF MACHINE)’\n‘(FWPATH)’/grub.cfg-‘(MAC ADDRESS OF NIC)’\n‘(FWPATH)’/grub.cfg-‘(IPv4 OR IPv6 ADDRESS)’\n‘(FWPATH)’/grub.cfg\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230419222138-cdi9g8p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-cdi9g8p",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "The UUID is the Client Machine Identifier Option Definition as specified in RFC 4578. The client will only attempt to loouk up a UUID config file if it was provided by the DHCP server."
				}
			]
		},
		{
			"ID": "20230419222138-g7bmvdm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-g7bmvdm",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "The client will only attempt to look up an IPv6 address config once, however, it will try the IPv4 multiple times. The concrete example below shows what would happen under the IPv4 case."
				}
			]
		},
		{
			"ID": "20230419222138-z2gx969",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230419222138-z2gx969",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "UUID: 7726a678-7fc0-4853-a4f6-c85ac36a120a\nMAC:  52:54:00:ec:33:81\nIPV4: 10.0.0.130 (0A000082)\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230419222138-o9rsfju",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230419222138-o9rsfju",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "‘(FWPATH)’/grub.cfg-7726a678-7fc0-4853-a4f6-c85ac36a120a\n‘(FWPATH)’/grub.cfg-52-54-00-ec-33-81\n‘(FWPATH)’/grub.cfg-0A000082\n‘(FWPATH)’/grub.cfg-0A00008\n‘(FWPATH)’/grub.cfg-0A0000\n‘(FWPATH)’/grub.cfg-0A000\n‘(FWPATH)’/grub.cfg-0A00\n‘(FWPATH)’/grub.cfg-0A0\n‘(FWPATH)’/grub.cfg-0A\n‘(FWPATH)’/grub.cfg-0\n‘(FWPATH)’/grub.cfg\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230419222138-z1kk06t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-z1kk06t",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "This feature is enabled by default but it can be disabled by setting the ‘feature_net_search_cfg’ to ‘n’. Since this happens before the configuration file is read by GRUB, this option has to be disabled in an embedded configuration file (see "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://www.gnu.org/software/grub/manual/grub/html_node/Embedded-configuration.html#Embedded-configuration",
					"TextMarkTextContent": "Embedded configuration"
				},
				{
					"Type": "NodeText",
					"Data": ")."
				}
			]
		},
		{
			"ID": "20230419222138-xv2e1do",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-xv2e1do",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "After GRUB has started, files on the TFTP server will be accessible via the ‘(tftp)’ device."
				}
			]
		},
		{
			"ID": "20230419222138-cizs43n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-cizs43n",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "The server IP address can be controlled by changing the ‘(tftp)’ device name to ‘(tftp,server-ip)’. Note that this should be changed both in the prefix and in any references to the device name in the configuration file."
				}
			]
		},
		{
			"ID": "20230419222138-5jn1h9b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-5jn1h9b",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "GRUB provides several environment variables which may be used to inspect or change the behaviour of the PXE device. In the following description \u003cinterface\u003e is placeholder for the name of network interface (platform dependent):"
				}
			]
		},
		{
			"ID": "20230419222138-s9963ds",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-s9963ds",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_ip’The network interface’s IP address.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-b24ofjh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-b24ofjh",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_mac’The network interface’s MAC address.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-i3rmsxk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-i3rmsxk",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_hostname’The client host name provided by DHCP.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-5lkxxom",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-5lkxxom",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_domain’The client domain name provided by DHCP.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-ctm82m8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-ctm82m8",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_rootpath’The path to the client’s root disk provided by DHCP.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-92fq57e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-92fq57e",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_extensionspath’The path to additional DHCP vendor extensions provided by DHCP.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-g80gk6n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-g80gk6n",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_boot_file’The boot file name provided by DHCP.  Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-15uem7p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-15uem7p",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_dhcp_server_name’The name of the DHCP server responsible for these boot parameters. Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-exn57o7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-exn57o7",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_\u003cinterface\u003e_next_server’The IP address of the next (usually, TFTP) server provided by DHCP. Read-only."
				}
			]
		},
		{
			"ID": "20230419222138-s0cj9db",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-s0cj9db",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_default_interface’Initially set to name of network interface that was used to load grub. Read-write, although setting it affects only interpretation of ‘net_default_ip’ and ‘net_default_mac’"
				}
			]
		},
		{
			"ID": "20230419222138-ser9mpe",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-ser9mpe",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_default_ip’The IP address of default interface.  Read-only. This is alias for the ‘net_${net_default_interface}_ip’."
				}
			]
		},
		{
			"ID": "20230419222138-nol6kon",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-nol6kon",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_default_mac’The default interface’s MAC address.  Read-only.  This is alias for the ‘net_${net_default_interface}_mac’."
				}
			]
		},
		{
			"ID": "20230419222138-0f3mb71",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230419222138-0f3mb71",
				"updated": "20230419222138"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "‘net_default_server’The default server used by network drives (see "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://www.gnu.org/software/grub/manual/grub/html_node/Device-syntax.html#Device-syntax",
					"TextMarkTextContent": "Device syntax"
				},
				{
					"Type": "NodeText",
					"Data": ").  Read-write, although setting this is only useful before opening a network device."
				}
			]
		},
		{
			"ID": "20230419222138-opac9n9",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20230419222138-opac9n9",
				"updated": "20230419222138"
			}
		}
	]
}