{
	"ID": "20230316190917-x47t65u",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20230316190917-x47t65u",
		"title": "ONEStorX10000 PMC-P460 RAID卡设置指南  ",
		"updated": "20230316191741"
	},
	"Children": [
		{
			"ID": "20230316190917-v8aom39",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20230316190917-v8aom39"
			}
		},
		{
			"ID": "20230316190917-2rvgiz5",
			"Type": "NodeList",
			"ListData": {},
			"Properties": {
				"id": "20230316190917-2rvgiz5"
			},
			"Children": [
				{
					"ID": "20230316190917-rjaz52l",
					"Type": "NodeListItem",
					"ListData": {
						"BulletChar": 42,
						"Marker": "Kg=="
					},
					"Properties": {
						"id": "20230316190917-rjaz52l"
					},
					"Children": [
						{
							"ID": "20230316190917-g35uaf5",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230316190917-g35uaf5"
							},
							"Children": [
								{
									"Type": "NodeTextMark",
									"TextMarkType": "a",
									"TextMarkAHref": "https://zhiliao.h3c.com/Theme/details/55252",
									"TextMarkTextContent": "https://zhiliao.h3c.com/Theme/details/55252"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-bgqwfqh",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20230316190917-bgqwfqh",
				"updated": "20230316190917"
			}
		},
		{
			"ID": "20230316190917-ogwc0cq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-ogwc0cq",
				"updated": "20230316191045"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "* "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://zhiliao.h3c.com/questions/catesDis/1562",
					"TextMarkTextContent": "存储配置"
				}
			]
		},
		{
			"ID": "20230316190917-z79w8w7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-z79w8w7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如下一首打油诗帮大家记住上述要求："
				}
			]
		},
		{
			"ID": "20230316190917-6fehgza",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-6fehgza"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "硬盘缓存要关闭，阵列缓存各对应"
				}
			]
		},
		{
			"ID": "20230316190917-pzbslt9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-pzbslt9"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "固态硬盘性能好，阵列缓存不需要"
				}
			]
		},
		{
			"ID": "20230316190917-c5edvrx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-c5edvrx"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "普通硬盘性能差，阵列缓存来帮忙"
				}
			]
		},
		{
			"ID": "20230316190917-p9hh1sx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-p9hh1sx"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "数据安全很重要，掉电保护莫忘掉"
				}
			]
		},
		{
			"ID": "20230316190917-ua0cx8n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-ua0cx8n"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "所有节点都设好，意外掉电不怕了"
				}
			]
		},
		{
			"ID": "20230316190917-mb8m4ve",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20230316190917-mb8m4ve",
				"updated": "20230316191101"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1. 过程分析"
				}
			]
		},
		{
			"ID": "20230316190917-f2ni50o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-f2ni50o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如下根据这首打油诗来讲解PMC -460阵列卡的设置规则，在实际设置过程中，建议在开局前就设置好，并且集群内的每个节点都要设置，如下仅以1个节点为例进行讲解。"
				}
			]
		},
		{
			"ID": "20230316190917-38k0ymj",
			"Type": "NodeHeading",
			"HeadingLevel": 1,
			"Properties": {
				"id": "20230316190917-38k0ymj",
				"updated": "20230316191111"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2. 解决方法"
				}
			]
		},
		{
			"ID": "20230316190917-lhded39",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230316190917-lhded39",
				"updated": "20230316191119"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.1 关闭硬盘缓存"
				}
			]
		},
		{
			"ID": "20230316190917-2cf34jt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-2cf34jt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看硬盘缓存状态：arcconf getconfig 1 ad | grep “Physical Drive” -A4"
				}
			]
		},
		{
			"ID": "20230316190917-calgxhz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-calgxhz"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528716203847-20230316190917-r47or6p.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-yjtmwq3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-yjtmwq3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可以看到当前硬盘缓存的状态是Enabled，我我们需要将上图的三个状态设置为Disabled，具体设置命令如下："
				}
			]
		},
		{
			"ID": "20230316190917-cye5m28",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-cye5m28"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 drivewritecachepolicy configured 2"
				}
			]
		},
		{
			"ID": "20230316190917-c345z62",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-c345z62"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 drivewritecachepolicy unconfigured 2"
				}
			]
		},
		{
			"ID": "20230316190917-b5kopvk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-b5kopvk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 drivewritecachepolicy hba 2"
				}
			]
		},
		{
			"ID": "20230316190917-n535wcn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-n535wcn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "按照如上命令设置好了后，记得再次检查是否关闭了硬盘缓存，如下图均变为Disabled为正确状态。"
				}
			]
		},
		{
			"ID": "20230316190917-qbel7nj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-qbel7nj"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528716464234-20230316190917-keox3fo.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-pxdkhmp",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230316190917-pxdkhmp",
				"updated": "20230316191132"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.2 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "设置阵列卡缓存为掉电保护状态"
				}
			]
		},
		{
			"ID": "20230316190917-w5798dz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-w5798dz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "查看当前的电池保护状态：arcconf getconfig 1\nad | grep  \"No-Battery Write Cache\""
				}
			]
		},
		{
			"ID": "20230316190917-y1g3q9v",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-y1g3q9v"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528716643530-20230316190917-h2e5smt.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-ozh5md3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-ozh5md3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如上图可以看到当前的阵列卡缓存状态是不带电池保护的，需要将“No-Battery Write Cache”项设置为disable。设置命令如下："
				}
			]
		},
		{
			"ID": "20230316190917-139sp72",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-139sp72"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 NOBATTERYWRITECACHE disable"
				}
			]
		},
		{
			"ID": "20230316190917-utjeftm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-utjeftm"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528716809495-20230316190917-23vjk5m.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-db49zal",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-db49zal",
				"updated": "20230316190917"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "设置为掉电保护后，记得检查“No-Battery Write Cache”的属性是否变成了Disabled状态，如上图就是正确的状态。"
				}
			]
		},
		{
			"ID": "20230316191212-06lgodv",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230316191212-06lgodv",
				"updated": "20230316191217"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.3 开启HDD盘阵列卡缓存"
				}
			]
		},
		{
			"ID": "20230316190917-mdj0muj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-mdj0muj",
				"updated": "20230316191336"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过命令 arcconf\narcconf getconfig 1 ld | grep -B 20 HDD |  grep Caching查看当前HDD盘的缓存状态。"
				}
			]
		},
		{
			"ID": "20230316190917-xb6aj7t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-xb6aj7t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如上图当前的缓存状态是Disabled的。"
				}
			]
		},
		{
			"ID": "20230316190917-4cuec24",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-4cuec24"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": " "
				},
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528716993609-20230316190917-cnni846.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-2cpqlud",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-2cpqlud"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "需要通过如此命令开启："
				}
			]
		},
		{
			"ID": "20230316190917-yvwbgo7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-yvwbgo7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 logicakdrive XX con  "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em",
					"TextMarkTextContent": "//XX"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em strong",
					"TextMarkTextContent": "是当前"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em",
					"TextMarkTextContent": "HDD**盘的逻辑盘编号"
				}
			]
		},
		{
			"ID": "20230316190917-kf8xche",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-kf8xche"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "设置完成后，再次检查是否变成了Enabled的状态。"
				}
			]
		},
		{
			"ID": "20230316190917-cb1zxgq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-cb1zxgq",
				"updated": "20230316190917"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528717252476-20230316190917-2jlwowx.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316191234-g3ex19c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316191234-g3ex19c",
				"updated": "20230316191234"
			}
		},
		{
			"ID": "20230316191233-fob20fl",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230316191233-fob20fl",
				"updated": "20230316191242"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.4 关闭SSD盘阵列卡缓存"
				}
			]
		},
		{
			"ID": "20230316190917-87xx16i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-87xx16i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过命令 arcconf\ngetconfig 1 ld | grep -B 10 SSD  grep |Caching查看当前SSD盘的缓存状态。如果其为Enabled状态，则需要通过命令如下命令关闭："
				}
			]
		},
		{
			"ID": "20230316190917-r3sy5zo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-r3sy5zo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "arcconf setcache 1 logicakdrive XX coff  "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em",
					"TextMarkTextContent": "//XX"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em strong",
					"TextMarkTextContent": "是当前"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "em",
					"TextMarkTextContent": "SSD**盘的逻辑盘编号"
				}
			]
		},
		{
			"ID": "20230316190917-tldulgx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-tldulgx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如下图是正确的SSD盘的阵列卡缓存状态："
				}
			]
		},
		{
			"ID": "20230316190917-y9qo8ax",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-y9qo8ax"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/15528717504254-20230316190917-hwocv0e.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230316190917-ksapv2r",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230316190917-ksapv2r",
				"updated": "20230316191741"
			}
		}
	]
}