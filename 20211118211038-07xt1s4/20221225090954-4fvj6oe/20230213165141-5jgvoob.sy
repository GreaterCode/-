{
	"ID": "20230213165141-5jgvoob",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20230213165141-5jgvoob",
		"title": "cgroup v2切换v1",
		"updated": "20230213165520"
	},
	"Children": [
		{
			"ID": "20230213165141-339odvy",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20230213165141-339odvy",
				"updated": "20230213165240"
			},
			"Children": [
				{
					"ID": "20230213165214-633m7op",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20230213165214-633m7op",
						"updated": "20230213165240"
					},
					"Children": [
						{
							"ID": "20230213165214-96nagj8",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230213165214-96nagj8",
								"updated": "20230213165233"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "check当前使用的cgroup版本"
								}
							]
						},
						{
							"ID": "20230213165234-4o56z3d",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20230213165234-4o56z3d",
								"updated": "20230213165240"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "XA=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "# mount | grep cgroup\ncgroup2 on /sys/fs/cgroup type cgroup2\n(rw,nosuid,nodev,noexec,relatime,seclabel,nsdelegate,memory_recursiveprot)\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20230213165242-75etlfr",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20230213165242-75etlfr",
				"updated": "20230213165418"
			},
			"Children": [
				{
					"ID": "20230213165244-b8ex7dl",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "Mi4=",
						"Num": 2
					},
					"Properties": {
						"id": "20230213165244-b8ex7dl"
					},
					"Children": [
						{
							"ID": "20230213165244-j633kgn",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230213165244-j633kgn",
								"updated": "20230213165326"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "添加内核参数systemd.unified_cgroup_hierarchy=0 \u0026 systemd.legacy_systemd_cgroup_controller"
								}
							]
						},
						{
							"ID": "20230213165330-rkne47h",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20230213165330-rkne47h",
								"updated": "20230213165341"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "XA=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "grubby --update-kernel=/boot/vmlinuz-$(uname -r) --\nargs=\"systemd.unified_cgroup_hierarchy=0 systemd.legacy_systemd_cgroup_controller\"\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				},
				{
					"ID": "20230213165348-2t1fpn5",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "My4=",
						"Num": 3
					},
					"Properties": {
						"id": "20230213165348-2t1fpn5",
						"updated": "20230213165418"
					},
					"Children": [
						{
							"ID": "20230213165348-sf3jzzh",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230213165348-sf3jzzh",
								"updated": "20230213165403"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "重启操作系统生效"
								}
							]
						},
						{
							"ID": "20230213165403-kapintz",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20230213165403-kapintz",
								"updated": "20230213165418"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "XA=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "systemctl reboot\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20230213165419-hsekn93",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20230213165419-hsekn93",
				"updated": "20230213165520"
			},
			"Children": [
				{
					"ID": "20230213165421-y5j7mps",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "NC4=",
						"Num": 4
					},
					"Properties": {
						"id": "20230213165421-y5j7mps",
						"updated": "20230213165520"
					},
					"Children": [
						{
							"ID": "20230213165421-9x8xpci",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230213165421-9x8xpci",
								"updated": "20230213165430"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "检查是否生效"
								}
							]
						},
						{
							"ID": "20230213165431-1chsnvd",
							"Type": "NodeCodeBlock",
							"IsFencedCodeBlock": true,
							"Properties": {
								"id": "20230213165431-1chsnvd",
								"updated": "20230213165520"
							},
							"Children": [
								{
									"Type": "NodeCodeBlockFenceOpenMarker",
									"Data": "```"
								},
								{
									"Type": "NodeCodeBlockFenceInfoMarker",
									"CodeBlockInfo": "XA=="
								},
								{
									"Type": "NodeCodeBlockCode",
									"Data": "# cat /proc/cmdline \nBOOT_IMAGE=(hd0,msdos1)/vmlinuz-5.14.0-70.el9.x86_64 root=/dev/mapper/rhel-root ro\ncrashkernel=1G-4G:192M,4G-64G:256M,64G-:512M resume=/dev/mapper/rhel-swap\nrd.lvm.lv=rhel/root rd.lvm.lv=rhel/swap rhgb quiet intel_pstate=disabled\nsystemd.unified_cgroup_hierarchy=0 systemd.legacy_systemd_cgroup_controller\n\n# mount | grep cgroup\ntmpfs on /sys/fs/cgroup type tmpfs\n(ro,nosuid,nodev,noexec,seclabel,size=4096k,nr_inodes=1024,mode=755,inode64)\ncgroup on /sys/fs/cgroup/systemd type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,xattr,release_agent=/usr/lib/systemd/systemd\u0002cgroups-agent,name=systemd)\ncgroup on /sys/fs/cgroup/freezer type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,freezer)\ncgroup on /sys/fs/cgroup/net_cls,net_prio type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,net_cls,net_prio)\ncgroup on /sys/fs/cgroup/misc type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,misc)\ncgroup on /sys/fs/cgroup/cpu,cpuacct type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,cpu,cpuacct)\ncgroup on /sys/fs/cgroup/memory type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,memory)\ncgroup on /sys/fs/cgroup/cpuset type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,cpuset)\ncgroup on /sys/fs/cgroup/perf_event type cgroup\n(rw,nosuid,nodev,noexec,relatime,seclabel,perf_event)\n\n ll /sys/fs/cgroup\ntotal 0\ndr-xr-xr-x. 10 root root 0 Apr 30 11:15 blkio\nlrwxrwxrwx. 1 root root 11 Apr 30 11:15 cpu -\u003e cpu,cpuacct\nlrwxrwxrwx. 1 root root 11 Apr 30 11:15 cpuacct -\u003e cpu,cpuacct\ndr-xr-xr-x. 10 root root 0 Apr 30 11:15 cpu,cpuacct\ndr-xr-xr-x. 2 root root 0 Apr 30 11:15 cpuset\ndr-xr-xr-x. 10 root root 0 Apr 30 11:15 devices\ndr-xr-xr-x. 2 root root 0 Apr 30 11:15 freezer\ndr-xr-xr-x. 2 root root 0 Apr 30 11:15 hugetlb\ndr-xr-xr-x. 10 root root 0 Apr 30 11:15 memory\n"
								},
								{
									"Type": "NodeCodeBlockFenceCloseMarker",
									"Data": "```"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20230213165450-bghhfny",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230213165450-bghhfny",
				"updated": "20230213165450"
			}
		}
	]
}