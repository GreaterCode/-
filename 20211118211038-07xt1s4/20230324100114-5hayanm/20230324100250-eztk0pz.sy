{
	"ID": "20230324100250-eztk0pz",
	"Spec": "1",
	"Type": "NodeDocument",
	"Properties": {
		"id": "20230324100250-eztk0pz",
		"scroll": "{\u0026quot;startId\u0026quot;:\u0026quot;20230324100250-qiru0qn\u0026quot;,\u0026quot;endId\u0026quot;:\u0026quot;20230324100250-kcmktoy\u0026quot;,\u0026quot;scrollTop\u0026quot;:7078,\u0026quot;focusId\u0026quot;:\u0026quot;20230324100250-su3ihmc\u0026quot;,\u0026quot;focusStart\u0026quot;:1,\u0026quot;focusEnd\u0026quot;:1}",
		"title": "01-自动化运维工具-ansible - Chrisjing的运维知识体系",
		"updated": "20230324100552"
	},
	"Children": [
		{
			"ID": "20230324100250-57cnvk7",
			"Type": "NodeThematicBreak",
			"Properties": {
				"id": "20230324100250-57cnvk7"
			}
		},
		{
			"ID": "20230324100250-zd28qoh",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-zd28qoh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible基础知识介绍"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-6ej3qwk",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-6ej3qwk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简单介绍"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-e5sfxuv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e5sfxuv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible是新出现的自动化运维工具，基于Python开发，集合了众多运维工具（puppet、cfengine、chef、func、fabric）的优点，实现了批量系统配置、批量程序部署、批量运行命令等功能。ansible是基于模块工作的，本身没有批量部署的能力。真正具有批量部署的是ansible所运行的模块。"
				}
			]
		},
		{
			"ID": "20230324100250-74dsral",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-74dsral"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible是一个自动化统一配置管理工具，自动化主要体现在Ansible集成了丰富模块以及功能组件，可以通过一个命令完成一系列的操作，进而能减少重复性的工作和维护成本，可以提高工作效率。"
				}
			]
		},
		{
			"ID": "20230324100250-rbuea0f",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-rbuea0f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "总体架构"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-bk9raj5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bk9raj5"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20211024100912761"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20211024100912761-20230324100250-2g804qf.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230324100250-awbffr2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-awbffr2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible只是提供一种框架。主要包括："
				}
			]
		},
		{
			"ID": "20230324100250-ec4o7d2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ec4o7d2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)、连接插件connection plugins：负责和被监控端实现通信；"
				}
			]
		},
		{
			"ID": "20230324100250-fm9wrzk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fm9wrzk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)、host inventory：指定操作的主机，是一个配置文件里面定义监控的主机；"
				}
			]
		},
		{
			"ID": "20230324100250-txacug8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-txacug8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)、各种模块核心模块、command模块、自定义模块；"
				}
			]
		},
		{
			"ID": "20230324100250-rls5zcq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-rls5zcq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)、借助于插件完成记录日志邮件等功能；"
				}
			]
		},
		{
			"ID": "20230324100250-8hnqewy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8hnqewy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(5)、playbook：剧本执行多个任务时，非必需可以让节点一次性运行多个任务。"
				}
			]
		},
		{
			"ID": "20230324100250-628t1zn",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-628t1zn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible的特性"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-g61r0r0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-g61r0r0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.模块化：调用特定的模块，完成特定的任务"
				}
			]
		},
		{
			"ID": "20230324100250-5lqdx1e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-5lqdx1e"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.基于Python语言实现，由Paramiko，PyYAML和Jinja2三个关键模块"
				}
			]
		},
		{
			"ID": "20230324100250-1tplnqi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1tplnqi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.部署简单，agentless"
				}
			]
		},
		{
			"ID": "20230324100250-8tn0epe",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8tn0epe"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.支持主从模式"
				}
			]
		},
		{
			"ID": "20230324100250-6oucqyc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6oucqyc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.支持自定义模块"
				}
			]
		},
		{
			"ID": "20230324100250-gcrrtxk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gcrrtxk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "6.支持Playbook"
				}
			]
		},
		{
			"ID": "20230324100250-fl4pa4o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fl4pa4o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)、no agents：不需要在被管控主机上安装任何客户端；"
				}
			]
		},
		{
			"ID": "20230324100250-wq6ogpm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-wq6ogpm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)、no server：无服务器端，使用时直接运行命令即可；"
				}
			]
		},
		{
			"ID": "20230324100250-06itn2p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-06itn2p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)、modules in any languages：基于模块工作，可使用任意语言开发模块；"
				}
			]
		},
		{
			"ID": "20230324100250-9uk8rf8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9uk8rf8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)、yaml，not code：使用yaml语言定制剧本playbook；"
				}
			]
		},
		{
			"ID": "20230324100250-ep8003u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ep8003u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(5)、ssh by default：基于SSH工作；"
				}
			]
		},
		{
			"ID": "20230324100250-7wjd7x1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7wjd7x1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(6)、strong multi-tier solution：可实现多级指挥"
				}
			]
		},
		{
			"ID": "20230324100250-lggkt5l",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-lggkt5l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible优缺点"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-j2srvdm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-j2srvdm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)、轻量级，无需在客户端安装agent，更新时，只需在操作机上进行一次更新即可；"
				}
			]
		},
		{
			"ID": "20230324100250-155n1gp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-155n1gp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)、批量任务执行可以写成脚本，而且不用分发到远程就可以执行；"
				}
			]
		},
		{
			"ID": "20230324100250-4364jdr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4364jdr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)、使用python编写，维护更简单，ruby语法过于复杂；"
				}
			]
		},
		{
			"ID": "20230324100250-53o8li0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-53o8li0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)、支持sudo。"
				}
			]
		},
		{
			"ID": "20230324100250-aui24xo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-aui24xo"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "无需客户端"
				}
			]
		},
		{
			"ID": "20230324100250-hhf03wg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hhf03wg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "与Chef、Puppet以及Saltstack（现在也支持Agentless方式salt-ssh）不同，Ansible是无客户端Agent的，所以无需在客户机上安装或配置任何程序，就可以运行Ansible任务。由于Ansible不会在客户机上安装任何软件或运行监听程序，因此消除了许多管理开销，我们可以在即可上手使用Ansible管理服务器，同时Ansible的更新也不会影响任何客户机。"
				}
			]
		},
		{
			"ID": "20230324100250-6hzdd7m",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6hzdd7m"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "使用SSH进行通讯"
				}
			]
		},
		{
			"ID": "20230324100250-dt4avtv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dt4avtv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认情况下，Ansible使用SSH协议在管理机和客户机之间进行通信。可以使用SFTP与客户机进行安全的文件传输。"
				}
			]
		},
		{
			"ID": "20230324100250-km2dyjj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-km2dyjj"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "并行执行"
				}
			]
		},
		{
			"ID": "20230324100250-z4quobf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-z4quobf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible与客户机并行通信，可以更快地运行自动化任务。默认情况下，forks值为5，可以按需，在配置文件中增大该值。"
				}
			]
		},
		{
			"ID": "20230324100250-h0r5vx1",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-h0r5vx1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "任务执行流程"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_3",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-6cmyhqw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6cmyhqw"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20211024101103964"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20211024101103964-20230324100250-5t6v22g.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230324100250-qiru0qn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qiru0qn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "说明："
				}
			]
		},
		{
			"ID": "20230324100250-74zyo3m",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-74zyo3m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)、以上内容大多是基于他人分享的基础上总结而来，学习借鉴之用；"
				}
			]
		},
		{
			"ID": "20230324100250-u6erftf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u6erftf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)、本次安装基于 CentOS 6.4 系统环境。"
				}
			]
		},
		{
			"ID": "20230324100250-tv1k8fo",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-tv1k8fo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "概念术语描述"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_4",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-oyfzwcs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-oyfzwcs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible使用过程中会用到一些概念术语，我们先介绍一下。"
				}
			]
		},
		{
			"ID": "20230324100250-gdyvvf7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gdyvvf7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible的与节点有关的重要术语包括控制节点，受管节点，清单和主机文件："
				}
			]
		},
		{
			"ID": "20230324100250-4rhhc9t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4rhhc9t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "控制节点（Control node）：指安装了Ansible的主机，也叫Ansible服务器端,管理机。 Ansible控制节点主要用于发布运行任务，执行控制命令。Ansible的程序都安装在控制节点上，控制节点需要安装Python和Ansible所需的各种依赖库。注意：目前Ansible还不能安装在Windows下。"
				}
			]
		},
		{
			"ID": "20230324100250-e24lx55",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e24lx55"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "受控节点（Managed nodes）：也叫客户机，就是想用Ansible执行任务的客户服务器。"
				}
			]
		},
		{
			"ID": "20230324100250-n8stwgg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-n8stwgg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "清单（Inventory）：受控节点的列表，就是所有要管理的主机列表。"
				}
			]
		},
		{
			"ID": "20230324100250-17x32iv",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-17x32iv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "host文件：清单列表通常保存在一个名为host文件中。在host文件中，可以使用IP地址或者主机名来表示具体的管理主机和认证信息，并可以根据主机的用户进行分组。缺省文件：/etc/ansible/hosts，可以通过-i指定自定义的host文件。"
				}
			]
		},
		{
			"ID": "20230324100250-87mdfym",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-87mdfym"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "模块（Modules）：模块是Ansible执行特定任务的代码块。比如：添加用户，上传文件和对客户机执行ping操作等。Ansible现在默认自带450多个模块，，Ansible Galaxy公共存储库则包含大约1600个模块。"
				}
			]
		},
		{
			"ID": "20230324100250-w74e8vq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-w74e8vq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "任务（Task）：是Ansible客户机上执行的操作。可以使用ad-hoc单行命令执行一个任务。"
				}
			]
		},
		{
			"ID": "20230324100250-fav9bll",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fav9bll"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "剧本(Playbook):是利用YAML标记语言编写的可重复执行的任务的列表，playbook实现任务的更便捷的读写和贡献。比如，在Github上有大量的Ansible playbooks共享，你要你有一双善于发现的眼睛你就能找到大量的宝藏。"
				}
			]
		},
		{
			"ID": "20230324100250-fd1rwf7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fd1rwf7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "角色（roles）：角色是Ansible 1.2版本引入的新特性，用于层次性、结构化地组织playbook。roles能够根据层次型结构自动装载变量文件、tasks以及handlers等。"
				}
			]
		},
		{
			"ID": "20230324100250-31v4pxx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-31v4pxx"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20220801154820679"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20220801154820679-20230324100250-efmmr5g.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230324100250-ib2z7ju",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-ib2z7ju"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "参考资料推荐"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_5",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-lijhzkg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-lijhzkg"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "官方文档：https://docs.ansible.com/ansible/latest/index.html\ngitlab: https://github.com/ansible/ansible\n中文手册 http://www.ansible.com.cn/index.html\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-phhwhck",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-phhwhck"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible安装部署使用"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_3",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-t29584j",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-t29584j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "环境准备"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_6",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-79uxct8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-79uxct8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "系统版本：CentOS Linux release 7.6.1810 (Core)\n系统内核：3.10.0-957.el7.x86_64"
				}
			]
		},
		{
			"ID": "20230324100250-e8zu448",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e8zu448"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置阿里云的base源和epel源（CentOS7）"
				}
			]
		},
		{
			"ID": "20230324100250-guab3xs",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-guab3xs"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\nwget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo\nyum repolist\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-jv2nr20",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-jv2nr20"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "安装配置"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_7",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-b6ksvrs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-b6ksvrs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.安装ansible批量管理工具，只需在管理端安装即可 master端：管理端"
				}
			]
		},
		{
			"ID": "20230324100250-ijmnjje",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ijmnjje"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# yum -y install ansible\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-yips71i",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-yips71i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置文件"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_8",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-kyqw83w",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kyqw83w"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "我们关注ansible主要关注一下的配置文件"
				}
			]
		},
		{
			"ID": "20230324100250-8evxxh2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-8evxxh2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "/etc/ansible/ansible.cfg        主配置文件\n/etc/ansible/hosts          主机清单，需要管理的主机列表，支持分组取名\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-zsi6rh3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zsi6rh3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible通过ssh实现配置管理，应用部署，任务执行等功能，因此,需要事先配置ansible端能基于秘钥认证的方式联系各管理节点"
				}
			]
		},
		{
			"ID": "20230324100250-gliyr1y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gliyr1y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible默认安装好后有一个配置文件/etc/ansible/ansible.cfg，该配置文件中定义了ansible的主机的默认配置部分，如默认是否需要输入密码、是否开启sudo认证、action_plugins插件的位置、hosts主机组的位置、是否开启log功能、默认端口、key文件位置等等。"
				}
			]
		},
		{
			"ID": "20230324100250-40hkpt0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-40hkpt0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "具体如下："
				}
			]
		},
		{
			"ID": "20230324100250-3a9p2mr",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3a9p2mr"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# vi /etc/ansible/ansible.cfg\n[defaults]\n# some basic default values...\nhostfile       = /etc/ansible/hosts   \\\\指定默认hosts配置的位置\n# library_path = /usr/share/my_modules/\nremote_tmp     = $HOME/.ansible/tmp\npattern        = *\nforks          = 5\npoll_interval  = 15\nsudo_user      = root  \\\\远程sudo用户\n#ask_sudo_pass = True  \\\\每次执行ansible命令是否询问ssh密码\n#ask_pass      = True  \\\\每次执行ansible命令时是否询问sudo密码\ntransport      = smart\nremote_port    = 22\nmodule_lang    = C\ngathering = implicit\nhost_key_checking = False    \\\\关闭第一次使用ansible连接客户端是输入命令提示\nlog_path    = /var/log/ansible.log \\\\需要时可以自行添加。chown -R root:root ansible.log\nsystem_warnings = False    \\\\关闭运行ansible时系统的提示信息，一般为提示升级\n# set plugin path directories here, separate with colons\naction_plugins     = /usr/share/ansible_plugins/action_plugins\ncallback_plugins   = /usr/share/ansible_plugins/callback_plugins\nconnection_plugins = /usr/share/ansible_plugins/connection_plugins\nlookup_plugins     = /usr/share/ansible_plugins/lookup_plugins\nvars_plugins       = /usr/share/ansible_plugins/vars_plugins\nfilter_plugins     = /usr/share/ansible_plugins/filter_plugins\nfact_caching = memory\n[accelerate]\naccelerate_port = 5099\naccelerate_timeout = 30\naccelerate_connect_timeout = 5.0\n# The daemon timeout is measured in minutes. This time is measured\n# from the last activity to the accelerate daemon.\naccelerate_daemon_timeout = 30\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-9xfk6mx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9xfk6mx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置文件ansible.cfg约有350行语句，大多数为注释行默认配置项。该文件遵循INI格式，分为如下几类配置"
				}
			]
		},
		{
			"ID": "20230324100250-m7fvor4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-m7fvor4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（1）[defaults]"
				}
			]
		},
		{
			"ID": "20230324100250-pkvaodu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pkvaodu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "其中日志执行存放路径值得关注，方便查看执行中报错内容"
				}
			]
		},
		{
			"ID": "20230324100250-667f8ae",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-667f8ae"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "log_path = /var/log/ansible.log # 执行日志存放目录"
				}
			]
		},
		{
			"ID": "20230324100250-ooi5yxu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ooi5yxu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\n# inventory = /etc/ansible/hosts        # 定义Inventory\n# library = /usr/share/my_modules/      # 自定义lib库存放目录\n# remote_tmp = $HOME/.ansible/tmp       # 临时文件远程主机存放目录\n# local_tmp = $HOME/.ansible/tmp        # 临时文件本地存放目录\n# forks = 5                  # 默认开启的并发数\n# poll_interval = 15         # 默认轮询时间间隔\n# sudo_user  = root          # 默认sudo用户\n# ask_sudo_pass = True       # 是否需要sudo密码\n# ask_pass  = True           # 是否需要密码\n# roles_path = /etc/ansible/roles   # 默认下载的Roles存放的目录\n# host_key_checking = False         # 首次连接是否需要检查key认证，建议设为False\n# timeout = 10               # 默认超时时间\n# timeout = 10               # 如没有指定用户，默认使用的远程连接用户\n# log_path = /var/log/ansible.log   # 执行日志存放目录\n# module_name = command             # 默认执行的模块\n# action_plugins = /usr/share/ansible/plugins/action     # action插件的存放目录\n# callback_plugins = /usr/share/ansible/plugins/callback # callback插件的存放目录\n# connection_plugins = /usr/share/ansible/plugins/connection    # connection插件的存放目录\n# lookup_plugins = /usr/share/ansible/plugins/lookup     # lookup插件的存放目录\n# vars_plugins = /usr/share/ansible/plugins/vars         # vars插件的存放目录\n# filter_plugins = /usr/share/ansible/plugins/filter     # filter插件的存放目录\n# test_plugins = /usr/share/ansible/plugins/test         # test插件的存放目录\n# strategy_plugins = /usr/share/ansible/plugins/strategy # strategy插件的存放目录\n# fact_caching = memory                      # getfact缓存的主机信息存放方式\n# retry_files_enabled = False\n# retry_files_save_path = ~/.ansible-retry   # 错误重启文件存放目录\n…\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-18zxy4y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-18zxy4y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "上述是日常可能用到的配置，这些多数保持默认即可。"
				}
			]
		},
		{
			"ID": "20230324100250-qbs0h0x",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qbs0h0x"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "strong",
					"TextMarkTextContent": "注意："
				},
				{
					"Type": "NodeText",
					"Data": "在首次链接时，把# host_key_checking = False    # 首次连接是否需要检查key认证，建议设为False"
				}
			]
		},
		{
			"ID": "20230324100250-3cg3b2d",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-3cg3b2d"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（2）[privilege_escalation]"
				}
			]
		},
		{
			"ID": "20230324100250-uenqifl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-uenqifl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "出于安全角度考虑，部分公司不希望直接以root的高级管理员权限直接部署应用，往往会开放普通用户权限并给予sudo的权限，该部分配置主要针对sudo用户提权的配置。"
				}
			]
		},
		{
			"ID": "20230324100250-8e62iac",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-8e62iac"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[privilege_escalation]\n# become=True          # 是否sudo\n# become_method=sudo   # sudo方式\n# become_user=root     # sudo后变为root用户\n# become_ask_pass=False # sudo后是否验证密码\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-9e1evlf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9e1evlf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（3）[paramiko_connection]"
				}
			]
		},
		{
			"ID": "20230324100250-1xykdoz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1xykdoz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "定义paramiko_connection配置，该部分功能不常用，了解即可。"
				}
			]
		},
		{
			"ID": "20230324100250-rfhfx6i",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-rfhfx6i"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[paramiko_connection]     # 该配置不常用到\n# record_host_keys=False  # 不记录新主机的key以提升效率\n# pty=False               # 禁用sudo功能\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-mpp4lmz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mpp4lmz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（4）[ssh_connection]"
				}
			]
		},
		{
			"ID": "20230324100250-9b2wer3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9b2wer3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible默认使用SSH协议连接对端主机，该部署是主要是SSH连接的一些配置，但配置项较少，多数默认即可。"
				}
			]
		},
		{
			"ID": "20230324100250-gomwhre",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-gomwhre"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[ssh_connection]\n# pipelining = False    # 管道加速功能，需配合requiretty使用方可生效\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-k0zeg8y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-k0zeg8y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（5）[accelerate]"
				}
			]
		},
		{
			"ID": "20230324100250-g528na6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-g528na6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible连接加速相关配置。因为有部分使用者不满意Ansible的执行速度，所以Ansible在连接和执行速度方面也在不断地进行优化，该配置项在提升Ansibile连接速度时会涉及，多数保持默认即可。"
				}
			]
		},
		{
			"ID": "20230324100250-5hkgz01",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-5hkgz01"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[accelerate]\n# accelerate_port = 5099            # 加速连接端口\n# accelerate_timeout = 30           # 命令执行超时时间，单位秒\n# accelerate_connect_timeout = 5.0  # 连接超时时间，单位秒\n# accelerate_daemon_timeout = 30        # 上一个活动连接的时间，单位分钟\n# accelerate_multi_key = yes\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-dvjadyf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dvjadyf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（6）[selinux]"
				}
			]
		},
		{
			"ID": "20230324100250-jbyrncp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jbyrncp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "关于selinux的相关配置几乎不会涉及，保持默认配置即可。"
				}
			]
		},
		{
			"ID": "20230324100250-46wvveo",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-46wvveo"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[selinux]\n# libvirt_lxc_noseclabel = yes\n# libvirt_lxc_noseclabel = yes\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-i83o30x",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-i83o30x"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "（7）[colors]"
				}
			]
		},
		{
			"ID": "20230324100250-n35zr5j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-n35zr5j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible对于输出结果的颜色也进行了详尽的定义且可配置，该选项对日常功能应用影响不大，几乎不用修改，保持默认即可。"
				}
			]
		},
		{
			"ID": "20230324100250-0wv0qiw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-0wv0qiw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[colors]\n# highlight = white\n# verbose = blue\n# warn = bright purple\n# error = red\n# debug = dark gray\n# deprecate = purple\n# skip = cyan\n# unreachable = red\n# ok = green\n# changed = yellow\n# diff_add = green\n# diff_remove = red\n# diff_lines = cyan\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-s4raz3m",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-s4raz3m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "秘钥分发"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_9",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-7rvjaaj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7rvjaaj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)生成秘钥"
				}
			]
		},
		{
			"ID": "20230324100250-wk4ck3w",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wk4ck3w"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ssh-keygen  \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-tqfysa1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tqfysa1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)分发秘钥"
				}
			]
		},
		{
			"ID": "20230324100250-xeutk9c",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-xeutk9c"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible all -m copy -a \"src=~/.ssh/id_rsa.pub dest=~/.ssh/authorized_keys mode=600\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-3or9134",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-3or9134"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在分发秘钥以前要保证安装以下软件"
				}
			]
		},
		{
			"ID": "20230324100250-y2ae4bd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-y2ae4bd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# yum -y install expect\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-dui9f01",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dui9f01"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "以下为分发秘钥的脚本"
				}
			]
		},
		{
			"ID": "20230324100250-xobrdzq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-xobrdzq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@linux-node1 ~]# cat keys_send.sh \n#!/bin/bash\n# this scripts comes from chris trainning's student.\n# e_mail:838997384@qq.com\n# qqinfo:838997384\n# function: remote dis ssh key.\n# version:1.2.1v\n################################################\n# chris trainning info.\n# QQ 838997384\n# site:http://www.etiantian.org\n# blog:http://www.74cto.com\n################################################\n. /etc/init.d/functions\nHOSTS=(\n192.168.56.11\n192.168.56.12\n192.168.56.13\n192.168.56.14\n)\nfunction CREATE_keys(){\n  [ ! -f /root/.ssh/id_dsa.pub ] \u0026\u0026 ssh-keygen -t dsa -N '' -f ~/.ssh/id_dsa \u0026\u003e/dev/null\n}\nfunction PASS_PASSWD(){\nip=$1\nexpect -c \"\nset timeout 90\nspawn ssh-copy-id -i /root/.ssh/id_dsa.pub $ip\nexpect \\\"continue connecting (yes/no)\\?\\\"\nsend  \\\"yes\\r\\\"\nexpect \\\"*password:\\\"\nsend \\\"123456\\r\\\"\nexpect eof\" \u003e/dev/null 2\u003e\u00261\n}\nfunction FENFA_id_dsa(){\nfor ((i=0; i\u003c${#HOSTS[*]}; i++))\ndo\n  PASS_PASSWD ${HOSTS[i]}\n  CHECK_KEYS=`ssh ${HOSTS[i]} 'ls -l /root/.ssh/|grep authorized_keys'|wc -l`\n  if [[ $CHECK_KEYS -eq 1 ]];then\n    action \"${HOSTS[i]} send id_dsa is successful\" /bin/true\n  else\n    action \"${HOSTS[i]} send id_dsa is failed copied\" /bin/false\n  fi\ndone\n}\nmain(){\n  CREATE_keys\n  FENFA_id_dsa\n}\nmain\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-9xsl0ol",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-9xsl0ol"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible常见模块详解"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_4",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-w9291nf",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-w9291nf"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]#  ansible-doc -l       #查看常见的模块\n[root@192e168e2e11 ]#  ansible-doc user #查看user模块的常见参数\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-rhj9l3u",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-rhj9l3u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "command模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#command",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-ge40hjw",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-ge40hjw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在远程主机上执行命令"
				}
			]
		},
		{
			"ID": "20230324100250-su3ihmc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-su3ihmc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "相关选项如下："
				}
			]
		},
		{
			"ID": "20230324100250-jwwp4qd",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jwwp4qd"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "creates：一个文件名，当该文件存在，则该命令不执行"
				}
			]
		},
		{
			"ID": "20230324100250-kdl4o5q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kdl4o5q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "free_form：要执行的linux指令"
				}
			]
		},
		{
			"ID": "20230324100250-fotdv4h",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fotdv4h"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "chdir：在执行指令之前，先切换到该目录"
				}
			]
		},
		{
			"ID": "20230324100250-dxqbjjm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dxqbjjm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "removes：一个文件名，当该文件不存在，则该选项不执行"
				}
			]
		},
		{
			"ID": "20230324100250-m638a55",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-m638a55"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "executable：切换shell来执行指令，该执行路径必须是一个绝对路径"
				}
			]
		},
		{
			"ID": "20230324100250-c17ktyr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-c17ktyr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01：远程执行命令"
				}
			]
		},
		{
			"ID": "20230324100250-252kzc7",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-252kzc7"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m command -a \"date\"\n192.168.2.12 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:55:55 CST 2022\n192.168.2.11 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:55:55 CST 2022\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ha8s2ie",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ha8s2ie"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02：creates：一个文件名，当该文件存在，则该命令不执行"
				}
			]
		},
		{
			"ID": "20230324100250-2nytc3t",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-2nytc3t"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "文件不存在的场景：\n[root@192e168e2e11 ~]# ansible web -m shell -a \"creates=/tmp/test date\"\n192.168.2.12 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:56:36 CST 2022\n192.168.2.11 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:56:36 CST 2022\n\n\n文件存在的场景：\n[root@192e168e2e11 ~]# ansible web -m shell -a \"creates=/tmp/test date\"\n192.168.2.12 | SUCCESS | rc=0 \u003e\u003e\nskipped, since /tmp/test exists\n192.168.2.11 | SUCCESS | rc=0 \u003e\u003e\nskipped, since /tmp/test exists\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ekzo4n0",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-ekzo4n0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "shell模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#shell",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-fhkc75f",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-fhkc75f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "切换到某个shell执行指定的指令，参数与command相同。"
				}
			]
		},
		{
			"ID": "20230324100250-vxk3yzc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vxk3yzc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "与command不同的是，此模块可以支持命令管道，同时还有另一个模块也具备此功能：raw"
				}
			]
		},
		{
			"ID": "20230324100250-zj6onwc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zj6onwc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用途：用于执行远程服务器上的脚本"
				}
			]
		},
		{
			"ID": "20230324100250-i9j66uq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-i9j66uq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例："
				}
			]
		},
		{
			"ID": "20230324100250-66o06n5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-66o06n5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)远程执行命令："
				}
			]
		},
		{
			"ID": "20230324100250-sdtckn2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-sdtckn2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m shell -a \"date\"\n192.168.2.12 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:59:16 CST 2022\n192.168.2.11 | CHANGED | rc=0 \u003e\u003e\nMon Aug  1 16:59:16 CST 2022\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ilqatl9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ilqatl9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)先在本地创建一个SHELL脚本"
				}
			]
		},
		{
			"ID": "20230324100250-6ax1fv2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-6ax1fv2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "cat \u003e/tmp/rocketzhang_test.sh\u003c\u003cEOF\n#!/bin/sh\ndate +%F_%H:%M:%S\nEOF\nchmod +x /tmp/rocketzhang_test.sh\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-9z5gl0n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9z5gl0n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3) 将创建的脚本文件分发到远程"
				}
			]
		},
		{
			"ID": "20230324100250-k6hwrt4",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-k6hwrt4"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible web -m copy -a \"src=/tmp/rocketzhang_test.sh dest=/tmp/rocketzhang_test.sh owner=root group=root mode=0755\" \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-4h0u6z9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4h0u6z9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4) 远程执行结果"
				}
			]
		},
		{
			"ID": "20230324100250-97ygs96",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-97ygs96"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m shell -a \"sh /tmp/rocketzhang_test.sh\"\n192.168.2.12 | CHANGED | rc=0 \u003e\u003e\n2022-08-01_17:01:05\n192.168.2.11 | CHANGED | rc=0 \u003e\u003e\n2022-08-01_17:01:05\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-6flnm45",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-6flnm45"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "group模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#group",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-hftb3ix",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hftb3ix"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "作用：创建删除用户组"
				}
			]
		},
		{
			"ID": "20230324100250-ivimwq9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ivimwq9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子1:创建user01用户组"
				}
			]
		},
		{
			"ID": "20230324100250-wy0j02j",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wy0j02j"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m group -a \"name=user01 gid=1000 state=present system=yes\"\n192.168.2.12 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"gid\": 1000, \n    \"name\": \"user01\", \n    \"state\": \"present\", \n    \"system\": true\n}\n192.168.2.11 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"gid\": 1000, \n    \"name\": \"user01\", \n    \"state\": \"present\", \n    \"system\": true\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-zv0o3dh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zv0o3dh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子2:删除user01用户组"
				}
			]
		},
		{
			"ID": "20230324100250-6ojehow",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-6ojehow"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m group -a \"name=user01 gid=1000 state=absent system=yes\"\n192.168.2.12 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"name\": \"user01\", \n    \"state\": \"absent\"\n}\n192.168.2.11 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"name\": \"user01\", \n    \"state\": \"absent\"\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-fqwpjg4",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-fqwpjg4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "user模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#user",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-pcwyyi4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pcwyyi4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "作用：在所有的服务器上创建一个用户"
				}
			]
		},
		{
			"ID": "20230324100250-oz6w5cl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-oz6w5cl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "state表示是否存在"
				}
			]
		},
		{
			"ID": "20230324100250-7sn34m2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7sn34m2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "name表示用户的名称"
				}
			]
		},
		{
			"ID": "20230324100250-31802wp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-31802wp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01:创建用户"
				}
			]
		},
		{
			"ID": "20230324100250-lbju3jy",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-lbju3jy"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m user -a \"name=user01 state=present password=123456 uid=1000 shell=/bin/bash\"\n192.168.2.12 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"comment\": \"\", \n    \"create_home\": true, \n    \"group\": 1000, \n    \"home\": \"/home/user01\", \n    \"name\": \"user01\", \n    \"password\": \"NOT_LOGGING_PASSWORD\", \n    \"shell\": \"/bin/bash\", \n    \"state\": \"present\", \n    \"system\": false, \n    \"uid\": 1000\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-996w91k",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-996w91k"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02:删除用户"
				}
			]
		},
		{
			"ID": "20230324100250-hcksz8u",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-hcksz8u"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m user -a \"name=user01 state=absent password=123456 uid=1000 shell=/bin/bash\"\n192.168.2.12 | CHANGED =\u003e {\n    \"ansible_facts\": {\n        \"discovered_interpreter_python\": \"/usr/bin/python\"\n    }, \n    \"changed\": true, \n    \"force\": false, \n    \"name\": \"user01\", \n    \"remove\": false, \n    \"state\": \"absent\"\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-gitj09f",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-gitj09f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "cron模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#cron",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-hgx409i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hgx409i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Cron - 运行管理任务计划和 crontab 条目，可以新建、删除 crontab 条目。"
				}
			]
		},
		{
			"ID": "20230324100250-lnlbn3p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-lnlbn3p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "点击(此处)折叠或打开"
				}
			]
		},
		{
			"ID": "20230324100250-aey73z2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-aey73z2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "[root@localhost ~]# ansible-doc cron"
				}
			]
		},
		{
			"ID": "20230324100250-xrbuttz",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-xrbuttz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "打印 Cron 模块帮助信息。"
				}
			]
		},
		{
			"ID": "20230324100250-a7r53ul",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-a7r53ul"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "name     任务计划的描述信息。"
				}
			]
		},
		{
			"ID": "20230324100250-ak5lmx7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ak5lmx7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "cron_file   如果指定此文件，将替换远程主机上的该用户的任务计划。"
				}
			]
		},
		{
			"ID": "20230324100250-8a7wian",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8a7wian"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "minute    分（ 0-59 ，* ，*/2 ）"
				}
			]
		},
		{
			"ID": "20230324100250-1yo8nl3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1yo8nl3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hour     时（ 0-23 ，* ，*/2 ）"
				}
			]
		},
		{
			"ID": "20230324100250-a9zb3ny",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-a9zb3ny"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "day      日（ 1-31 ，* ，*/2 ）"
				}
			]
		},
		{
			"ID": "20230324100250-4l3b8cu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4l3b8cu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "month     月（ 1-12 ，* ，*/2 ）"
				}
			]
		},
		{
			"ID": "20230324100250-i3q5u2g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-i3q5u2g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "weekday    周（ 0-6 或 1-7 ，* ）"
				}
			]
		},
		{
			"ID": "20230324100250-zvb07zy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zvb07zy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "job      要执行的命令，state 要等于 present 。"
				}
			]
		},
		{
			"ID": "20230324100250-kiy92lp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kiy92lp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "backup    是否先备份再创建新的任务计划。"
				}
			]
		},
		{
			"ID": "20230324100250-hdemzwo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hdemzwo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "user     以哪个用户新建任务计划，默认 root 。"
				}
			]
		},
		{
			"ID": "20230324100250-wp4prar",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-wp4prar"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "state    （present/absent） 指定任务计划是创建，还是删除。"
				}
			]
		},
		{
			"ID": "20230324100250-r57971o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-r57971o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "special_time   （reboot/yearly/annually/monthly/weekly/daily/hourly）"
				}
			]
		},
		{
			"ID": "20230324100250-catuak6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-catuak6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Special time specification nickname. (added in Ansible 1.3)"
				}
			]
		},
		{
			"ID": "20230324100250-ajhj7h5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ajhj7h5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m cron -a \"name='sync time from ntpserver' minute=*/5 hour=1,3,5,7,9 month=10 user=root job='ntpdate us.pool.ntp.org'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-pe82dlt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pe82dlt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "当然我们也可以取消定时任务的名称说明"
				}
			]
		},
		{
			"ID": "20230324100250-zql7run",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-zql7run"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m cron -a \"name='sync time from ntpserver' minute=*/5 hour=1,3,5,7,9 month=10 user=root state=absent job='ntpdate us.pool.ntp.org'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-l7ewnf7",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-l7ewnf7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "copy模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#copy",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-cr38wlr",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-cr38wlr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "复制文件到远程主机"
				}
			]
		},
		{
			"ID": "20230324100250-tr4pbgf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tr4pbgf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "相关选项如下："
				}
			]
		},
		{
			"ID": "20230324100250-gtmch1l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gtmch1l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "backup：在覆盖之前，将源文件备份，备份文件包含时间信息。有两个选项：yes|no"
				}
			]
		},
		{
			"ID": "20230324100250-1adgrk6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1adgrk6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "content：用于替代“src”，可以直接设定指定文件的值"
				}
			]
		},
		{
			"ID": "20230324100250-ahdswoc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ahdswoc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "dest：必选项。要将源文件复制到的远程主机的绝对路径，如果源文件是一个目录，那么该路径也必须是个目录"
				}
			]
		},
		{
			"ID": "20230324100250-vhp30g0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vhp30g0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "directory_mode：递归设定目录的权限，默认为系统默认权限"
				}
			]
		},
		{
			"ID": "20230324100250-mi6x59v",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mi6x59v"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "force：如果目标主机包含该文件，但内容不同，如果设置为yes，则强制覆盖，如果为no，则只有当目标主机的目标位置不存在该文件时，才复制。默认为yes"
				}
			]
		},
		{
			"ID": "20230324100250-8ttofo4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8ttofo4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "others：所有的file模块里的选项都可以在这里使用"
				}
			]
		},
		{
			"ID": "20230324100250-ga859sy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ga859sy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "src：被复制到远程主机的本地文件，可以是绝对路径，也可以是相对路径。如果路径是一个目录，它将递归复制。在这种情况下，如果路径使用“/”来结尾，则只复制目录里的内容，如果没有使用“/”来结尾，则包含目录在内的整个内容全部复制，类似于rsync。"
				}
			]
		},
		{
			"ID": "20230324100250-4rze55l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4rze55l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01：复制文件"
				}
			]
		},
		{
			"ID": "20230324100250-taahttg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-taahttg"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# touch /tmp/test01\n[root@192e168e2e11 ]# ansible 192.168.56.11 -m copy -a \"src=/tmp/test01 dest=/opt/test01\"\n192.168.56.11 | SUCCESS =\u003e {\n    \"changed\": true, \n    \"checksum\": \"da39a3ee5e6b4b0d3255bfef95601890afd80709\", \n    \"dest\": \"/tmp/test01\", \n    \"gid\": 0, \n    \"group\": \"root\", \n    \"mode\": \"0600\", \n    \"owner\": \"root\", \n    \"path\": \"/tmp/test01\", \n    \"size\": 0, \n    \"state\": \"file\", \n    \"uid\": 0\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-q0s1k00",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-q0s1k00"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02：复制文件并给文件授权"
				}
			]
		},
		{
			"ID": "20230324100250-h7gu7gw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-h7gu7gw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# ansible 192.168.56.11 -m copy -a \"src=/tmp/test01 dest=/opt/test01 mode=600 owner=root group=root\"\n192.168.56.11 | SUCCESS =\u003e {\n    \"changed\": true, \n    \"checksum\": \"da39a3ee5e6b4b0d3255bfef95601890afd80709\", \n    \"dest\": \"/tmp/test01\", \n    \"gid\": 0, \n    \"group\": \"root\", \n    \"mode\": \"0600\", \n    \"owner\": \"root\", \n    \"path\": \"/tmp/test01\", \n    \"size\": 0, \n    \"state\": \"file\", \n    \"uid\": 0\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-y7pvcnr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y7pvcnr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子03：复制目录"
				}
			]
		},
		{
			"ID": "20230324100250-6hzi529",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-6hzi529"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ]# mkdir /tmp/mulu -p\n[root@192e168e2e11 ]# touch /tmp/mulu/file{1..10}\n[root@192e168e2e11 ]# ls /tmp/mulu/\nfile1  file10  file2  file3  file4  file5  file6  file7  file8  file9\n[root@192-168-56-200 ~]# ansible 192.168.56.11 -m copy -a \"src=/tmp/mulu dest=/tmp/\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-69bq1e2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-69bq1e2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子04：复制目录并授权"
				}
			]
		},
		{
			"ID": "20230324100250-iml9pa4",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-iml9pa4"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible web -m copy -a \"src=/tmp/mulu dest=/opt/\"\n192.168.2.12 | CHANGED =\u003e {\n    \"changed\": true, \n    \"dest\": \"/opt/\", \n    \"src\": \"/tmp/mulu\"\n}\n192.168.2.11 | CHANGED =\u003e {\n    \"changed\": true, \n    \"dest\": \"/opt/\", \n    \"src\": \"/tmp/mulu\"\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-a1ksm9c",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-a1ksm9c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "file模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#file",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-24v5rx3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-24v5rx3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "相关选项如下："
				}
			]
		},
		{
			"ID": "20230324100250-l7bq6cj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-l7bq6cj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "force：需要在两种情况下强制创建软链接，一种是源文件不存在，但之后会建立的情况下；另一种是目标软链接已存在，需要先取消之前的软链，然后创建新的软链，有两个选项：yes|no"
				}
			]
		},
		{
			"ID": "20230324100250-ru6hdov",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ru6hdov"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "group：定义文件/目录的属组"
				}
			]
		},
		{
			"ID": "20230324100250-dbmbdcz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dbmbdcz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "mode：定义文件/目录的权限"
				}
			]
		},
		{
			"ID": "20230324100250-indwuig",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-indwuig"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "owner：定义文件/目录的属主"
				}
			]
		},
		{
			"ID": "20230324100250-bi9a2wu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bi9a2wu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "path：必选项，定义文件/目录的路径"
				}
			]
		},
		{
			"ID": "20230324100250-61xquxn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-61xquxn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "recurse：递归设置文件的属性，只对目录有效"
				}
			]
		},
		{
			"ID": "20230324100250-9dwm82q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9dwm82q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "src：被链接的源文件路径，只应用于state=link的情况"
				}
			]
		},
		{
			"ID": "20230324100250-job5oti",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-job5oti"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "dest：被链接到的路径，只应用于state=link的情况"
				}
			]
		},
		{
			"ID": "20230324100250-zsb1vbf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zsb1vbf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "state："
				}
			]
		},
		{
			"ID": "20230324100250-brexdri",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-brexdri"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    directory：如果目录不存在，就创建目录"
				}
			]
		},
		{
			"ID": "20230324100250-mbmhqp1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mbmhqp1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    file：即使文件不存在，也不会被创建"
				}
			]
		},
		{
			"ID": "20230324100250-ctd4z74",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ctd4z74"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    link：创建软链接"
				}
			]
		},
		{
			"ID": "20230324100250-1gzxmfc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1gzxmfc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    hard：创建硬链接"
				}
			]
		},
		{
			"ID": "20230324100250-t7eekn3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-t7eekn3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    touch：如果文件不存在，则会创建一个新的文件，如果文件或目录已存在，则更新其最后修改时间"
				}
			]
		},
		{
			"ID": "20230324100250-1jo424w",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1jo424w"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "​    absent：删除目录、文件或者取消链接文件"
				}
			]
		},
		{
			"ID": "20230324100250-a1cjsci",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-a1cjsci"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例："
				}
			]
		},
		{
			"ID": "20230324100250-jum1lp6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jum1lp6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)远程文件符号链接创建"
				}
			]
		},
		{
			"ID": "20230324100250-3d0rhun",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3d0rhun"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m file -a \"src=/etc/resolv.conf dest=/tmp/resolv.conf state=link\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-nao0qex",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nao0qex"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)远程创建目录并设置文件的权限属性"
				}
			]
		},
		{
			"ID": "20230324100250-rl89eku",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-rl89eku"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m file -a \"path=/opt/test02 state=directory mode=600 owner=root group=root\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-mthk16u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mthk16u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)远程创建文件"
				}
			]
		},
		{
			"ID": "20230324100250-j19ft6p",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-j19ft6p"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m file -a \"path=/tmp/file01 state=touch\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-t8zzzqk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-t8zzzqk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)远程删除一个文件"
				}
			]
		},
		{
			"ID": "20230324100250-bn908gj",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-bn908gj"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m file -a \"path=/tmp/file01 state=absent\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-48p687g",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-48p687g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ping模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ping",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-ukfxtps",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ukfxtps"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# ansible 192.168.56.11 -m ping\n192.168.56.11 | SUCCESS =\u003e {\n    \"changed\": false, \n    \"ping\": \"pong\"\n}\n[root@192e168e2e11 ~]# ansible 192.168.2.11 -m ping\n[root@192e168e2e11 ~]# ansible 192.168.2.11,192.168.2.12 -m ping\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-3z694lv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-3z694lv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "yum模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#yum",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-vlfqo4u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vlfqo4u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)安装软件的例子"
				}
			]
		},
		{
			"ID": "20230324100250-cwjb23a",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-cwjb23a"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m yum -a \"name=nginx state=latest\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-sdgxz09",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-sdgxz09"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2).卸载软件的例子，卸载只需将latest改成absent即可(不推荐使用)"
				}
			]
		},
		{
			"ID": "20230324100250-kvm6tsu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-kvm6tsu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m yum -a \"name=nginx state=absent\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-f6rggx6",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-f6rggx6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "service模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#service",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-t1943nh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-t1943nh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "管理被管理段主机的服务"
				}
			]
		},
		{
			"ID": "20230324100250-xpj3gvc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xpj3gvc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "启动服务"
				}
			]
		},
		{
			"ID": "20230324100250-ea2e5pd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ea2e5pd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m service -a \"name=nginx state=started enabled=yes\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-dz2yb34",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dz2yb34"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "停止服务"
				}
			]
		},
		{
			"ID": "20230324100250-p0ucc7y",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-p0ucc7y"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m service -a \"name=nginx state=stopped enabled=no\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-z5sn8fs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-z5sn8fs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "重启服务"
				}
			]
		},
		{
			"ID": "20230324100250-p04r1c5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-p04r1c5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m service -a \"name=nginx state=restarted enabled=no\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-8bgzg78",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-8bgzg78"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "script模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#script",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-ox1j51t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ox1j51t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Runs a local script on a remote node after transferring it"
				}
			]
		},
		{
			"ID": "20230324100250-6lgo567",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6lgo567"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在远程节点上运行一个本地脚本"
				}
			]
		},
		{
			"ID": "20230324100250-gt6iq9y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gt6iq9y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01："
				}
			]
		},
		{
			"ID": "20230324100250-1iiz7b9",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-1iiz7b9"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# vim /tmp/date.sh\n#!/bin/bash\necho \"This is scripts test\" \u003e/tmp/test01.txt\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-j4chlk5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-j4chlk5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "本地脚本在远程服务器执行"
				}
			]
		},
		{
			"ID": "20230324100250-kcmktoy",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-kcmktoy"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m script -a \"/tmp/date.sh\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-jx1l91p",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-jx1l91p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "lineinfile模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#lineinfile",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-2n11jms",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-2n11jms"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用于文件内的内容处理"
				}
			]
		},
		{
			"ID": "20230324100250-29778s3",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-29778s3"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "追加内容\nansible 192.168.2.12 -m lineinfile -a \"dest=/etc/hosts line='192.168.2.12 192e168e2e12'\"\n\n删除内容\nansible 192.168.2.12 -m lineinfile -a \"dest=/etc/hosts state=absent line='192.168.2.12 192e168e2e12'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-qpv6jsz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qpv6jsz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1) 在sudo文件中root开头之后加入line=的内容，insertafter可以写正则或EOF（结尾），同理还有insertbefore也可以写正则或BOF（开头）"
				}
			]
		},
		{
			"ID": "20230324100250-eec347h",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-eec347h"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sudoers line='appuser  ALL=(ALL)       NOPASSWD:ALL' insertafter=^root\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ib9hev3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ib9hev3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2) 去掉正则匹配的所有行"
				}
			]
		},
		{
			"ID": "20230324100250-piqhh2j",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-piqhh2j"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sudoers state=absent regexp=^appuser\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-y5xkgb0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y5xkgb0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)修改或注释所匹配的行数，比如说禁用selinux"
				}
			]
		},
		{
			"ID": "20230324100250-5zqa2dy",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-5zqa2dy"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/selinux/config regexp='^SELINUX=' line='SELINUX=disabled'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-8vffp0y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8vffp0y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)在匹配的内容前增加一行"
				}
			]
		},
		{
			"ID": "20230324100250-xeea2iw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-xeea2iw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sysconfig/iptables insertbefore='^COMMIT' line='-A INPUT -p tcp --dport 80 -j ACCEPT'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-klp8d3j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-klp8d3j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(5)在匹配的内容后增加一行"
				}
			]
		},
		{
			"ID": "20230324100250-9c6eibj",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-9c6eibj"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sysconfig/iptables insertafter='^COMMIT' line='-A INPUT -p tcp --dport 81 -j ACCEPT'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-r9pvxee",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-r9pvxee"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(6)删除某一行内容"
				}
			]
		},
		{
			"ID": "20230324100250-3efho8k",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3efho8k"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sysconfig/iptables state=absent regexp='^-A INPUT -p tcp --dport 81 -j ACCEPT'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-n3w0w7v",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-n3w0w7v"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(7)文件存在就添加一行"
				}
			]
		},
		{
			"ID": "20230324100250-9mns2jk",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-9mns2jk"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/hosts line='192.168.1.1 192_168_1_1'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-n8qwloq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-n8qwloq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(8) 如果匹配到，引用line这一行作为替换。如果没有匹配到，则完全引用line这一行作为添加"
				}
			]
		},
		{
			"ID": "20230324100250-1td55kd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-1td55kd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m lineinfile -a \"dest=/etc/sudoers state=present regexp='^%wheel'  line='%wheel  ALL=(ALL)       NOPASSWD: ALL'\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-18904bs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-18904bs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.2.0版本出现的问题："
				}
			]
		},
		{
			"ID": "20230324100250-7ywq1gr",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-7ywq1gr"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: Disabled selinux\n      lineinfile: dest={{ item.dest }} regexp={{ item.regexp }} line={{ item.line }}\n      with_items:\n        - { dest: '/etc/ssh/sshd_config',regexp: '#Port 22',line: 'Port 22' }\n        - { dest: '/etc/ssh/sshd_config',regexp: '^#Protocol 2',line: 'Protocol 2' }\n        - { dest: '/etc/ssh/sshd_config',regexp: '#UseDNS yes',line: 'UseDNS no' }\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-xjdhgls",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-xjdhgls"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "iptables模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#iptables",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-mri8x07",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mri8x07"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "添加一条tcp的80端口"
				}
			]
		},
		{
			"ID": "20230324100250-uq4cyfe",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-uq4cyfe"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m iptables -a \"action=insert chain=INPUT jump=ACCEPT protocol=tcp destination_port=80\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-79enrpm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-79enrpm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "添加一条udp的69端口"
				}
			]
		},
		{
			"ID": "20230324100250-c7ru04o",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-c7ru04o"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m iptables -a \"action=insert chain=INPUT jump=ACCEPT protocol=udp destination_port=69\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-g7myjx0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-g7myjx0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "删除防火墙规则"
				}
			]
		},
		{
			"ID": "20230324100250-aj9lc1m",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-aj9lc1m"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m iptables -a \"action=insert state=absent chain=INPUT jump=ACCEPT protocol=tcp destination_port=80\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-pmxyc2n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pmxyc2n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "生产环境配置防火墙例子："
				}
			]
		},
		{
			"ID": "20230324100250-8f077ef",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-8f077ef"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- name: Config accept tcp rule insert to elasticsearch iptables\n  iptables: action=insert chain=INPUT jump=ACCEPT protocol=tcp destination_port={{ item }}\n  with_items:\n    - \"{{ elasticsearch_iptables_accept_tcp_port }}\"\n  tags: install_config_elasticsearch\n\n- name: Insert tcp rule to /etc/sysconfig/iptables\n  lineinfile:\n    path: /etc/sysconfig/iptables\n    insertafter: '^:OUTPUT ACCEPT '\n    line: '-A INPUT -p tcp -m tcp --dport {{ item }} -j ACCEPT'\n  with_items:\n     - \"{{ elasticsearch_iptables_accept_tcp_port }}\"\n  tags: install_config_elasticsearch\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-yhrldqp",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-yhrldqp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "mysql相关模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#mysql",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-e4zntw5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e4zntw5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.启动数据库"
				}
			]
		},
		{
			"ID": "20230324100250-oi0jmoz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-oi0jmoz"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m service -a \"name=mariadb state=started enabled=yes\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-mocav86",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mocav86"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.创建数据库"
				}
			]
		},
		{
			"ID": "20230324100250-dluara5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-dluara5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m mysql_db -a \"name=zabbix state=present encoding=utf8\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-cfob75m",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-cfob75m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.创建数据库用户并授权"
				}
			]
		},
		{
			"ID": "20230324100250-77er7o9",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-77er7o9"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m mysql_user -a \"name=zabbix password=zabbix priv='zabbix.*:ALL,GRANT' state=present\"\n\ncd /usr/share/doc/zabbix-server-mysql-3.0.8\nzcat create.sql.gz \u003e/root/create.sql\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-lk4mtti",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-lk4mtti"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.导入数据库。从sql文件中导入"
				}
			]
		},
		{
			"ID": "20230324100250-wr2l45p",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wr2l45p"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.56.11 -m mysql_db -a \"name=zabbix state=import target=/root/create.sql\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-twdlbu0",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-twdlbu0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "synchronize模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#synchronize",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-nyjosd5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nyjosd5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "sync数据同步文件等"
				}
			]
		},
		{
			"ID": "20230324100250-k63ai9o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-k63ai9o"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.mamicode.com/info-detail-1313203.html",
					"TextMarkTextContent": "http://www.mamicode.com/info-detail-1313203.html"
				}
			]
		},
		{
			"ID": "20230324100250-mwz0kcg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mwz0kcg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "选项说明"
				}
			]
		},
		{
			"ID": "20230324100250-qff6agu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-qff6agu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "archive                # 是否采用归档模式同步，即以源文件相同属性同步到目标地址\n\nchecksum               # 是否效验\n\ncompress               # 开启压缩，默认为开启\n\ncopy_links             # 同步的时候是否复制连接\n\ndelete                 # 删除源中没有而目标存在的文件（即以推送方为主）\n\ndest=                  # 目标地址\n\ndest_port              # 目标接受的端口，ansible配置文件中的 ansible_ssh_port 变量优先级高于该 dest_port 变量\n\ndirs                   # 以非递归的方式传输目录\n\nexisting_only          # Skip creating new files on receiver.\n\ngroup                  # Preserve group\n\nlinks                  # Copy symlinks as symlinks.\n\nmode                   # 模式，rsync 同步的方式 PUSH\\PULL，默认都是推送push。如果你在使用拉取pull功能的时候，可以参考如下来实现mode=pull   更改推送模式为拉取模式\n\nrecursive              # 是否递归 yes/no\n\nrsync_opts             # 使用rsync 的参数\n\nrsync_path             # 服务的路径，指定 rsync 命令来在远程服务器上运行。这个参考rsync命令的--rsync-path参数，--rsync-path=PATH     # 指定远程服务器上的rsync命令所在路径信息\n\nrsync_timeout          # 指定 rsync 操作的 IP 超时时间，和rsync命令的 --timeout 参数效果一样.\n\nset_remote_user        # put user@ for the remote paths. If you have a custom ssh config to define the remote user for\n\nsrc=\\‘#\\‘\"                  # 源，同步的数据源\n\ntimes                  # \n\n--exclude=.Git  忽略同步.git结尾的文件\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ldu5ldr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ldu5ldr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "由于模块默认启用了archive参数，该参数默认开启了recursive, links, perms, times, owner，group和-D参数。如果你将该参数设置为no，那么你将停止很多参数，比如会导致如下目的递归失败，导致无法拉取"
				}
			]
		},
		{
			"ID": "20230324100250-4zz42er",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4zz42er"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "使用rsync 模块，系统必须安装rsync 包，否则无法使用这个模块"
				}
			]
		},
		{
			"ID": "20230324100250-1mx89a4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1mx89a4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如果有将远程服务器上的文件同步到管理服务器的需求，那么就需要此模块"
				}
			]
		},
		{
			"ID": "20230324100250-rsp2i3c",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-rsp2i3c"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e12 ~]# touch /tmp/file1\n[root@192e168e2e12 ~]# echo \"nihao\" \u003e/tmp/file1\n\n[root@192e168e2e11 ~]# ansible 192.168.2.12  -m synchronize -a \"mode=pull src=/tmp/file1 dest=/tmp/ archive=yes checksum=yes\"\n[root@192e168e56e200 tasks]# ll /tmp/file1 \n-rw-r--r-- 1 root root 0 Jul  3 22:52 /tmp/file1\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-97ayypg",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-97ayypg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "unarchive模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#unarchive",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-y6gbnke",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y6gbnke"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用于解压文件，模块包含如下选项："
				}
			]
		},
		{
			"ID": "20230324100250-ops62w0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ops62w0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "copy：在解压文件之前，是否先将文件复制到远程主机，默认为yes。若为no，则要求目标主机上压缩包必须存在。"
				}
			]
		},
		{
			"ID": "20230324100250-1znuqd3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1znuqd3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "creates：指定一个文件名，当该文件存在时，则解压指令不执行"
				}
			]
		},
		{
			"ID": "20230324100250-u3u8r50",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u3u8r50"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "dest：远程主机上的一个路径，即文件解压的路径"
				}
			]
		},
		{
			"ID": "20230324100250-9h827sy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-9h827sy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "grop：解压后的目录或文件的属组"
				}
			]
		},
		{
			"ID": "20230324100250-7o7tqe5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7o7tqe5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "list_files：如果为yes，则会列出压缩包里的文件，默认为no，2.0版本新增的选项"
				}
			]
		},
		{
			"ID": "20230324100250-nxf2pzr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nxf2pzr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "mode：解决后文件的权限"
				}
			]
		},
		{
			"ID": "20230324100250-6x8zudq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6x8zudq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "src：如果copy为yes，则需要指定压缩文件的源路径"
				}
			]
		},
		{
			"ID": "20230324100250-ul501dg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ul501dg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "owner：解压后文件或目录的属主"
				}
			]
		},
		{
			"ID": "20230324100250-7pxkhp8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7pxkhp8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "示例如下："
				}
			]
		},
		{
			"ID": "20230324100250-14tupej",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-14tupej"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "    - unarchive: src=foo.tgz dest=/var/lib/foo\n    - unarchive: src=/tmp/foo.zip dest=/usr/local/bin copy=no\n    - unarchive: src=https://example.com/example.zip dest=/usr/local/bin copy=no\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-bjx8ger",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bjx8ger"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "数据库文件复制实例："
				}
			]
		},
		{
			"ID": "20230324100250-91q5ypy",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-91q5ypy"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- name: Tar mariadb file to /usr/local\n  unarchive: src=/usr/local/{{ mariadb }} dest=/usr/local/ remote_src=yes\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-awnotyc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-awnotyc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "生成数据："
				}
			]
		},
		{
			"ID": "20230324100250-wy34i6z",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wy34i6z"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# mkdir -p test01 \n[root@192e168e2e11 ~]# touch /root/test01/file{1..10}.txt\n[root@192e168e2e11 ~]# tar zcf test01.tar.gz test01\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-se51af2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-se51af2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "使用例子："
				}
			]
		},
		{
			"ID": "20230324100250-wklb5xq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wklb5xq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.11 -m unarchive -a 'src=/root/test01.tar.gz dest=/usr/local/src/ copy=no mode=0755'\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-g790uab",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-g790uab"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "fetch 模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#fetch",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-m18py3y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-m18py3y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用途：用于从 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "远程主机"
				},
				{
					"Type": "NodeText",
					"Data": " 中拷贝文件到 "
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "管理主机"
				}
			]
		},
		{
			"ID": "20230324100250-uve1rx2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-uve1rx2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意：不能拷贝目录"
				}
			]
		},
		{
			"ID": "20230324100250-ni0ue99",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ni0ue99"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.11 -m fetch -a \"src=/var/log/messages dest=/opt/\"\n\nansible web -m fetch -a \"src=/var/log/messages dest=/opt/\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-1r5utm6",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-1r5utm6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "setup模块"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#setup",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-1fjh69b",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-1fjh69b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用来查看远程主机的一些基本信息，或者一些远程服务器变量的引用"
				}
			]
		},
		{
			"ID": "20230324100250-3byd77d",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3byd77d"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-sfnoydk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-sfnoydk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.setup获取ipv4信息"
				}
			]
		},
		{
			"ID": "20230324100250-2pvxqam",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-2pvxqam"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup -a \"filter=ansible_all_ipv4_addresses\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-zbpmbry",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zbpmbry"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.获取内存信息"
				}
			]
		},
		{
			"ID": "20230324100250-tplfn9p",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-tplfn9p"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup -a \"filter=ansible_memory_mb\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-xakzsv1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xakzsv1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.通过通配符实现模糊匹配，比如以”mb”关键字结尾的信息。"
				}
			]
		},
		{
			"ID": "20230324100250-c9s6a9q",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-c9s6a9q"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup -a \"filter=*mb\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-xwarob7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xwarob7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "常用关键字"
				}
			]
		},
		{
			"ID": "20230324100250-rva7h3b",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-rva7h3b"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible_all_ipv4_addresses  #所有机器的ipv4地址\nansible_all_ipv6_addresses  #所有机器的ipv6地址\nansible_date_time           #系统时间\nansible_kernel              #内核版本\nansible_default_ipv4        #默认机器的ipv4地址\nansible_default_ipv6        #默认机器的ipv6地址\nansible_distribution        #linux系统发行版本，如centos，ubuntu，debian等\nansible_nodename            #主机名\nansible_pkg_mgr             #包管理器\nansible_python_version      #python版本\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-elv838r",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-elv838r"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible变量应用"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_5",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-caaj83e",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-caaj83e"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "变量的命名规范"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_10",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-y2q4q4z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y2q4q4z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "只能包含数字，下划线，字母\n只能用下划线或字母开头"
				}
			]
		},
		{
			"ID": "20230324100250-dpdm1ol",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-dpdm1ol"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "引用系统内置变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_11",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-4u8j5k6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4u8j5k6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "大家肯定疑问，这个facts是个啥？"
				}
			]
		},
		{
			"ID": "20230324100250-kjohncg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kjohncg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "facts组件是Ansible用于采集被管理机器设备信息的一个功能，采集的机器设备信息主要包含IP地址，操作系统，以太网设备，mac 地址，时间/日期相关数据，硬件信息等。"
				}
			]
		},
		{
			"ID": "20230324100250-hy9qthu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hy9qthu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "那话又说回来了，采集这些信息有什么用呢？有的时候我们需要根据远程主机的信息作为执行条件操作，例如，根据远程服务器使用的操作系统版本，可以安装不同版本的软件包；或者也可以显示与每台远程计算机相关的一些信息，例如每台设备上有多少RAM可用。"
				}
			]
		},
		{
			"ID": "20230324100250-qxp3mst",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qxp3mst"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "所以，在一些业务场景中，facts对我们是很有帮助的，省去了我们好多工作，大大提高了工作效率。"
				}
			]
		},
		{
			"ID": "20230324100250-2n74vcv",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-2n74vcv"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-nwctvin",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nwctvin"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "由于输出的内容实在是太多了，我们可以使用"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "code",
					"TextMarkTextContent": "filter"
				},
				{
					"Type": "NodeText",
					"Data": "参数来查看指定的信息，比如这样："
				}
			]
		},
		{
			"ID": "20230324100250-wxp6zui",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wxp6zui"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible 192.168.2.12 -m setup -a 'filter=ansible_all_ipv4_addresses'\nansible 192.168.2.12 -m setup -a 'filter=ansible_os_family'\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-8ocogn7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-8ocogn7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01：查看远程服务器的IP地址"
				}
			]
		},
		{
			"ID": "20230324100250-nwe1fi1",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-nwe1fi1"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# vim test.yml\n- hosts: 192.168.2.12\n  remote_user: root\n  tasks:\n    - name: IPADDR {{ ansible_all_ipv4_addresses }} {{ ansible_os_family }}\n      shell: echo IPADDR {{ ansible_all_ipv4_addresses }}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-q82jfvh",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-q82jfvh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "register注册变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#register",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-myh2ybs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-myh2ybs"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://so.csdn.net/so/search?q=ansible\u0026spm=1001.2101.3001.7020",
					"TextMarkTextContent": "ansible"
				},
				{
					"Type": "NodeText",
					"Data": " register 这个功能非常有用。当我们需要判断对执行了某个操作或者某个命令后，如何做相应的响应处理（执行其他 ansible 语句），则一般会用到register 。"
				}
			]
		},
		{
			"ID": "20230324100250-0qlqp0k",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-0qlqp0k"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "我们需要判断sdc是否存在，如果存在了就执行一些相应的脚本，则可以为该判断注册一个register变量，并用它来判断是否存在，存在返回 succeeded, 失败就是 failed."
				}
			]
		},
		{
			"ID": "20230324100250-sp6t3zk",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-sp6t3zk"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ~]# cd /etc/ansible\n[root@192e168e2e11 ansible]# vim test.yml\n- hosts: 192.168.2.12\n  remote_user: root\n  tasks:\n    - name: /dev/sdc disk is exsit\n      shell: lsblk |grep sda|wc -l\n      register: result\n      ignore_errors: True\n\n    - name: echo {{ result.stdout }}\n      shell: echo \"disk is ok\" \u003e\u003e/tmp/disk.txt\n      when:  result.stdout  == '0'\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-g3c4etm",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-g3c4etm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过命令行传递变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_12",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-on59qwq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-on59qwq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "创建一个test.yml的剧本"
				}
			]
		},
		{
			"ID": "20230324100250-p3daiji",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-p3daiji"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# vim test.yml\n- hosts: 192.168.2.12\n  remote_user: root\n  tasks:\n    - name echo {{ vars01 }} {{ vars02 }}\n      shell: echo\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-vj1n4bm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vj1n4bm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在运行playbook的时候也可以传递一些变量供playbook使用"
				}
			]
		},
		{
			"ID": "20230324100250-z5qh4ms",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-z5qh4ms"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# ansible-playbook test.yml --extra-vars \"vars01=zhangsan vars02=lisi\"\n\nPLAY [192.168.2.12] *********************************************************************************\n\nTASK [Gathering Facts] ******************************************************************************\nok: [192.168.2.12]\n\nTASK [echo zhangsan lisi] ***************************************************************************\nchanged: [192.168.2.12]\n\nPLAY RECAP ******************************************************************************************\n192.168.2.12               : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-5dxq091",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-5dxq091"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "引用主机清单变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_13",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-c6w525q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-c6w525q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02:也可以在host文件中去定义变量"
				}
			]
		},
		{
			"ID": "20230324100250-024qdip",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-024qdip"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# vim hosts \n\n[web]\n192.168.2.11 USER=zhangsan\n192.168.2.12 USER=zhangsan\n\n[web:vars]\nansible_ssh_port=22\nansible_ssh_user=root\nansible_ssh_pass=P@sswd\nYUM_IPADDR=192.168.2.241\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-2s3qggm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-2s3qggm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "yml配置文件修改如下"
				}
			]
		},
		{
			"ID": "20230324100250-gcmop0b",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-gcmop0b"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# vim test.yml \n- hosts: 192.168.2.12\n  remote_user: root\n  tasks:\n    - name: YUM {{ YUM_IPADDR }} {{ USER }}\n      shell: echo YUM {{ YUM_IPADDR }} {{ USER }}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-r566c1q",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-r566c1q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbook定义变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#playbook",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-a68k67n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-a68k67n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "我们一般可以在playbook剧本中去定义变量"
				}
			]
		},
		{
			"ID": "20230324100250-vhonr6b",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-vhonr6b"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# cat test.yml \n- hosts: 192.168.2.12\n  remote_user: root\n  vars:\n    USER: zhangsan\n    PASS: 123456\n  tasks:\n    - name: echo {{ USER }} {{ PASS }} \n      shell: echo\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-n5v8kar",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-n5v8kar"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在文件中定义变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_14",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-pztytky",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pztytky"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "我们可以创建一个文件，在文件中定义变量，并使用yml文件引用文件中的变量"
				}
			]
		},
		{
			"ID": "20230324100250-ftk0hqw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ftk0hqw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# vim vars_list.yml\nUSER: zhangsan\nPASS: 123456\nPORT:\n  - 22\n  - 23\n  - 80\n\n[root@192e168e2e11 ansible]# cat test.yml \n- hosts: 192.168.2.12\n  remote_user: root\n  vars_files:\n    - ./vars_list.yml\n  tasks:\n    - name: echo {{ USER }} {{ PASS }} \n      shell: echo \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-z3su3nr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-z3su3nr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "执行结果如下："
				}
			]
		},
		{
			"ID": "20230324100250-htoo1oa",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-htoo1oa"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192e168e2e11 ansible]# ansible-playbook test.yml \n\nPLAY [192.168.2.12] *********************************************************************************\n\nTASK [Gathering Facts] ******************************************************************************\nok: [192.168.2.12]\n\nTASK [echo zhangsan 123456  [22, 23, 80]] ***********************************************************\nchanged: [192.168.2.12]\n\nPLAY RECAP ******************************************************************************************\n192.168.2.12               : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-37i3ej8",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-37i3ej8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "通过roles传递变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#roles",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-90vnqu0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-90vnqu0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "当给一个主机应用角色的时候可以传递变量，然后再角色内使用这些变量"
				}
			]
		},
		{
			"ID": "20230324100250-nqutzqw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-nqutzqw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.2.12\n  roles:\n  - common\n  - { role: foo_app_instance, dir:’/web/htdocs/a.com’, port: 8080 }\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-hl21mg6",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-hl21mg6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "facts变量的缓存"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#facts",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-w2wngs2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-w2wngs2"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://www.cnblogs.com/zhangmingcheng/p/13964564.html",
					"TextMarkTextContent": "https://www.cnblogs.com/zhangmingcheng/p/13964564.html"
				}
			]
		},
		{
			"ID": "20230324100250-xa8zk5z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xa8zk5z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible facts 是远程系统的信息，主要包含IP地址，操作系统，以太网设备，mac 地址，时间/日期相关数据，硬件信息等信息。"
				}
			]
		},
		{
			"ID": "20230324100250-c3n021d",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-c3n021d"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible facts 对于需要根据远程主机的信息作为执行条件操作的场景非常有用。例如，根据远程服务器使用的操作系统版本，可以安装不同版本的软件包。或者也可以显示与每台远程计算机相关的一些信息，例如每台设备上有多少 RAM 可用。"
				}
			]
		},
		{
			"ID": "20230324100250-hnahgfc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hnahgfc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "不同网络环境下的耗时肯定是不同的，但是设置缓存是肯定可以加快 Ansible 运行速度的，特别是 playbook 的运行。"
				}
			]
		},
		{
			"ID": "20230324100250-e6sitno",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e6sitno"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "另外，可以在空闲时间手动进行 facts 缓存的更新，从而避免执行真正的任务时再去更新缓存。"
				}
			]
		},
		{
			"ID": "20230324100250-sbic2wi",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-sbic2wi"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@localhost ansible]# cat ansible.cfg \ngathering = smart\nlog_path = ./logs/ansible.log\nfact_caching = jsonfile\nfact_caching_connection = ./facts\nfact_caching_timeout = 86400\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-karrzby",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-karrzby"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Inventory列表"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-fc87yjp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-fc87yjp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible的主要功能用于批量主机操作，为了便捷的使用其中的部分主机，可以在inventory file中将其分组命名，"
				}
			]
		},
		{
			"ID": "20230324100250-wnfkqoy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-wnfkqoy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "默认的inventory为/etc/ansible/hosts"
				}
			]
		},
		{
			"ID": "20230324100250-t3mv1yt",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-t3mv1yt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Inventory列表格式"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-iaqs0ml",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-iaqs0ml"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "inventory文件遵循INI文件风格，中括号中的字符为组名，可以将同一个主机同事归并到多个不同的组中，此外，当如若目标主机使用啦非默认的SSH端口，还可以在主机名称之后使用冒号加端口号来标明"
				}
			]
		},
		{
			"ID": "20230324100250-804rxid",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-804rxid"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[test01]\n192.168.56.11\n192.168.56.[12:15]\nwww.[01.03].com\n[test02]\n192.168.56.16\nwww1.chris.com\nwww-[a:f].example.com\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-s6m6dae",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-s6m6dae"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Inventory主机变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-dm1kas0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dm1kas0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "可以在inventory中定义主机时为其添加主机变量以便于在playbook中使用"
				}
			]
		},
		{
			"ID": "20230324100250-iqpb0rp",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-iqpb0rp"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[test01]\n192.168.56.11 http_port=80\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-0valw4x",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-0valw4x"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Inventory组变量"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_3",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-y7jj7uz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y7jj7uz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "组变量是指赋予给指定组内所有主机上的在playbook中可用的变量"
				}
			]
		},
		{
			"ID": "20230324100250-yf4qllb",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-yf4qllb"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[test01]\n192.168.56.11 http_port=80\n[test01:vars]\nansible_ssh_user=\"root\"\nansible_ssh_pass=\"123456\"\nYUM_IPADDR=110.76.187.100\nNTP_SERVER=110.76.187.100\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ho1dzw0",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-ho1dzw0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Inventory组嵌套"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_4",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-a2vm8jp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-a2vm8jp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "inventory中，组还可以包含其他的组，并且也可以向组中的主机指定变量，不过，这些变量只能在ansible-playbook中使用，而ansible不支持："
				}
			]
		},
		{
			"ID": "20230324100250-tcem990",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-tcem990"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[test01]\n192.168.56.11\n[test02]\n192.168.56.12\n[test_zong:children]\ntest01\ntest02\n[test_zong:vars]\nansible_ssh_user=\"root\"\nansible_ssh_pass=\"123456\"\nYUM_IPADDR=110.76.187.100\nNTP_SERVER=110.76.187.100\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-w5nlzzg",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-w5nlzzg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "inventory常用参数"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_5",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-blswi55",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-blswi55"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible_ssh_host\n      将要连接的远程主机名.与你想要设定的主机的别名不同的话,可通过此变量设置.\nansible_ssh_port\n      ssh端口号.如果不是默认的端口号,通过此变量设置.\nansible_ssh_user\n      默认的 ssh 用户名\nansible_ssh_pass\n      ssh 密码(这种方式并不安全,我们强烈建议使用 --ask-pass 或 SSH 密钥)\nansible_sudo_pass\n      sudo 密码(这种方式并不安全,我们强烈建议使用 --ask-sudo-pass)\nansible_sudo_exe (new in version 1.8)\n      sudo 命令路径(适用于1.8及以上版本)\nansible_connection\n      与主机的连接类型.比如:local, ssh 或者 paramiko. Ansible 1.2 以前默认使用 paramiko.1.2 以后默认使用 'smart','smart' 方式会根据是否支持 ControlPersist, 来判断'ssh' 方式是否可行.\nansible_ssh_private_key_file\n      ssh 使用的私钥文件.适用于有多个密钥,而你不想使用 SSH 代理的情况.\nansible_shell_type\n      目标系统的shell类型.默认情况下,命令的执行使用 'sh' 语法,可设置为 'csh' 或 'fish'.\nansible_python_interpreter\n      目标主机的 python 路径.适用于的情况: 系统中有多个 Python, 或者命令路径不是\"/usr/bin/python\",比如  \\*BSD, 或者 /usr/bin/python\n      不是 2.X 版本的 Python.我们不使用 \"/usr/bin/env\" 机制,因为这要求远程用户的路径设置正确,且要求 \"python\" 可执行程序名不可为 python以外的名字(实际有可能名为python26).\n      与 ansible_python_interpreter 的工作方式相同,可设定如 ruby 或 perl 的路径....\n主机配置文件示例：\n[targets]\nlocalhost              ansible_connection=local\nother1.example.com    ansible_connection=ssh        ansible_ssh_user=mpdehaan\nother2.example.com     ansible_connection=ssh        ansible_ssh_user=mdehaan\n更多详见：\nhttp://docs.ansible.com/ansible/index.html\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-rww8iqi",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-rww8iqi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "主机组变量引用"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_15",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-wtwtjv5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wtwtjv5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "{{ groups['web'].0 }} {{ groups['web'].1 }}\n\n\n\n\n{{ ceph_all[0] }}\nansible ceph_all[0] -m copy -a \"src=../jijia.conf dest=/tmp/\"  \n\n\n\n- hosts: localhost\n  remote_user: root\n  tasks:\n    - name: IPADDR {{ groups['ceph_all'] }}\n      shell: echo {{ item }}\n      with_items:\n        - \"{{ groups['ceph_all'] }}\"\n\n\n- hosts: ceph_all\n  remote_user: root\n  tasks:\n    - name: IPADDR {{ groups['ceph_all'] }} {{ ansible_hostname }}\n      shell: echo {{ item }} {{ ansible_hostname }} \u003e\u003e /tmp/ip.txt\n      run_once: true\n      delegate_to: localhost\n      with_items:\n        - \"{{ groups['ceph_all'] }}\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-p3alu8h",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-p3alu8h"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbooks剧本深入"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#playbooks",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-gc1sz21",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-gc1sz21"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "核心元素："
				}
			]
		},
		{
			"ID": "20230324100250-ukdru1y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ukdru1y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.tasks:任务"
				}
			]
		},
		{
			"ID": "20230324100250-61c0v7p",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-61c0v7p"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.variables:变量"
				}
			]
		},
		{
			"ID": "20230324100250-pc8ra9f",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pc8ra9f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.templates：模板"
				}
			]
		},
		{
			"ID": "20230324100250-hz3lq8w",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hz3lq8w"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.handers:处理器"
				}
			]
		},
		{
			"ID": "20230324100250-06uj26o",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-06uj26o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.roles角色"
				}
			]
		},
		{
			"ID": "20230324100250-qvwoext",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qvwoext"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbook的组成：playbook是由一个或多个“play”组成的列表，可以让它们联同起来按事先编排的机制执行；所谓task无非是调用ansible的一个module，而在模块参数中可以使用变量；模块执行是幂等的，这意味着多次执行是安全的，因为其结果均一致；"
				}
			]
		},
		{
			"ID": "20230324100250-ytsbl0j",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ytsbl0j"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "执行模型：task list中的各任务按次序逐个在hosts中指定的所有主机上执行，即在所有主机上完成第一个任务后再开始第二个。在顺序运行某playbook时，如果中途发生错误，所有已执行任务都将回滚，因此，在修改playbook后重新执行一次即可；"
				}
			]
		},
		{
			"ID": "20230324100250-f9sx68c",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-f9sx68c"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "task组成：每个task都应该有其name，用于playbook的执行结果输出，建议其内容尽可能清晰地描述任务执行步骤。如果未提供name，则action的结果将用于输出；"
				}
			]
		},
		{
			"ID": "20230324100250-7yg76dx",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7yg76dx"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "notify指定handler的执行机制：“notify”这个action可用于在每个play的最后被触发，在notify中列出的操作称为handler，仅在所有的变化发生完成后一次性地执行指定操作。"
				}
			]
		},
		{
			"ID": "20230324100250-0lfnqly",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-0lfnqly"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "YAML入门"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#yaml",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-yatlci1",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-yatlci1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "YAML介绍"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#yaml_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-7sf0opn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7sf0opn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "YAML是一个可读性高的用来表达资料序列的格式，YAML参考了其他多种语言，包括XML，C语言，Python，Perl以及电子邮件格式，Clark Evans在2001年首次发表了这种语言。"
				}
			]
		},
		{
			"ID": "20230324100250-klalkqo",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-klalkqo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "特性："
				}
			]
		},
		{
			"ID": "20230324100250-a4wjayu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-a4wjayu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "YAML的可读性好\nYAML和脚本语言的交互性好\nYAML使用实验的语言的数据类型\nYAML有一个一致的信息模型\nYAML易于实现\nYAML表达能力强，扩展性好\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-e7khf7e",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-e7khf7e"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "YAML语法"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#yaml_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-d0rflyr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-d0rflyr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "多行缩进"
				}
			]
		},
		{
			"ID": "20230324100250-qsmx8ao",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qsmx8ao"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "数据结构可以用类似大纲的缩排方式呈现，结构通过缩进来表示，连续的项目通过减号“-”来表示，map结构里面的key/value对用冒号“:”来分隔。样例如下："
				}
			]
		},
		{
			"ID": "20230324100250-30hdayh",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-30hdayh"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "house:\n  family:\n    name: Doe\n    parents:\n      - John\n      - Jane\n    children:\n      - Paul\n      - Mark\n      - Simone\n  address:\n    number: 34\n    street: Main Street\n    city: Nowheretown\n    zipcode: 12345\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-j7sqwyl",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-j7sqwyl"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "注意："
				}
			]
		},
		{
			"ID": "20230324100250-w928w0r",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-w928w0r"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "字串不一定要用双引号标识；"
				}
			]
		},
		{
			"ID": "20230324100250-c02d89q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-c02d89q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在缩排中空白字符的数目并不是非常重要，只要相同阶层的元素左侧对齐就可以了（不过不能使用TAB字符）；"
				}
			]
		},
		{
			"ID": "20230324100250-u1wayh9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u1wayh9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "允许在文件中加入选择性的空行，以增加可读性；"
				}
			]
		},
		{
			"ID": "20230324100250-ij5lkau",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ij5lkau"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在一个档案中，可同时包含多个文件，并用“——”分隔；"
				}
			]
		},
		{
			"ID": "20230324100250-pvkl31s",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pvkl31s"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "选择性的符号“...”可以用来表示档案结尾（在利用串流的通讯中，这非常有用，可以在不关闭串流的情况下，发送结束讯号）。"
				}
			]
		},
		{
			"ID": "20230324100250-vju14le",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-vju14le"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "list列表"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#list",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-svdvn39",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-svdvn39"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "列表的所有元素均使用 “-” 开头 例子如下"
				}
			]
		},
		{
			"ID": "20230324100250-weienye",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-weienye"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- test01\n- test02\n- test03\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-gcatw0l",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-gcatw0l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "YAML生产例子"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#yaml_3",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-u0ci7mt",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u0ci7mt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "安装nginx的总体步骤，安装，配置，启动"
				}
			]
		},
		{
			"ID": "20230324100250-bqq8mfd",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-bqq8mfd"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@linux-node1 ansible]# cat nginx.yml \n- hosts: test\n  remote_user: root\n  tasks:\n    - name: install a pkg\n      yum: name=nginx state=latest\n#    - name: copy conf file nginx.conf\n#      copy: src=/tmp/nginx.conf dest=/etc/nginx/nginx.conf\n    - name: start nginx service\n      service: name=nginx state=started enabled=yes\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-k8mldzo",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-k8mldzo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbooks入门"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#playbooks_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-6e06hhk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6e06hhk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbook是由一个或多个play组成的列表，play的主要功能在于先归并为一组的主机装扮成事先通过ansible中的task定义好的角色，从根本上来讲，所谓task无非是调用一个module，将多个play组织在一个playbook中，即可以让他们连同起来事先编排的机制同唱一个大戏"
				}
			]
		},
		{
			"ID": "20230324100250-cqlzm22",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-cqlzm22"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "组成结构"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_16",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-hx897wu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-hx897wu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "├── group_vars #放置各种变量的目录，我这里没用\n├── hosts #主机和组配置，默认为/etc/ansible/hosts\n├── roles #角色目录，里边可以有多个角色，这里只配置了一个common\n│   └── common\n│       ├── files #用于文件或目录分发的目录\n│       ├── handlers #放置处理程序，如重启某个服务\n│       │   └── main.yml\n│       ├── tasks #任务列表\n│       │   └── main.yml\n│       └── templates #放置模板目录，这里未用\n└── site.yml #主入口配置，ansible-playbook 执行的第一个参数，也可以叫别的名称\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-jvyx5it",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-jvyx5it"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "文件内容"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_17",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-y4ka0gf",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y4ka0gf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)hosts"
				}
			]
		},
		{
			"ID": "20230324100250-nar0ael",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-nar0ael"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[ctx-lf-web] \n10.199.72.34 \n\n[ctx-bj-web] \n10.0.32.34 \n\n[ctx-lf-db]  \n10.199.134.21 \n\n[ctx-bj-db]  \n10.0.32.39 \n\n[ctx-web:children] #通过这种方式，将lf和bj这2个组的主机都归类为ctx-web中，这样后续site.yml的host绑定ctx-web就可以操作以下两个分组\nctx-lf-web \nctx-bj-web \n\n[ctx-db:children] \nctx-lf-db \nctx-bj-db \n\n[ctx-bj:children] \nctx-bj-web \nctx-bj-db \n\n[ctx-lf:children] \nctx-lf-web \nctx-lf-db\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-m24r4er",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-m24r4er"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2) site.yml文件"
				}
			]
		},
		{
			"ID": "20230324100250-inlsrgu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-inlsrgu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "--- \n- hosts: [ctx-bj, ctx-db] #可以选择多个分组，这个要和hosts中能找到\n  remote_user: sre #因为需要通过远端普通用户使用sudo的方式，所以还需要配置sudo\n  sudo: yes \n  roles: \n  - common #将hosts和common这个角色绑定，这个common需要在roles目录中存在\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-qj9tax7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qj9tax7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3) init/tasks/main.yml文件"
				}
			]
		},
		{
			"ID": "20230324100250-aikpk8z",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-aikpk8z"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-200 roles]# cat init/tasks/main.yml \n---\n- include: base.yml\n#- include: ssh_pubkey_send.yml\n#- include: optimize_users_and_groups.yml\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-hpi9mya",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-hpi9mya"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "基础组件"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_18",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-emex94f",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-emex94f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "host和user"
				}
			]
		},
		{
			"ID": "20230324100250-430ja9l",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-430ja9l"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbook中的每一个play的目的都是为了让某个或某些主机以某个指定的用户身份执行任务，"
				}
			]
		},
		{
			"ID": "20230324100250-tqo0u3m",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tqo0u3m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "hosts用于指定任务的主机，其可以是一个或多个由冒号分割主机组："
				}
			]
		},
		{
			"ID": "20230324100250-tabj1s2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tabj1s2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "remote_user用于指定远程主机上的执行任务的用户"
				}
			]
		},
		{
			"ID": "20230324100250-85fkzvu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-85fkzvu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-zdvxoat",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-zdvxoat"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "任务列表和action"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#action",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-cihem1u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-cihem1u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Playbooks的主体部分是task list，task list中的各任务按次序逐个在hosts中指定的所有主机上执行，即在所有主机上完成每一个任务后再开始第二个，在运行自下而下某个playbook时，如果中途发生错误，所有已执行任务都将回滚，因此，在更正playbooks后重新执行一次即可，task的目的是使用指定的参数执行模块，而在模块参数中可以使用变量，模块执行时幂等的，这意味着多次执行时安全的，因为其结果均一致，每个task都应该有其name，用于playbook的执行结果输出，建议其内容尽可能清晰地描述任务步骤，如何未提供name，则action的结果将用于输出"
				}
			]
		},
		{
			"ID": "20230324100250-ckqj5jp",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-ckqj5jp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简单任务列表例子"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_19",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-llwx53i",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-llwx53i"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01：创建一个nginx用户的"
				}
			]
		},
		{
			"ID": "20230324100250-6k11i5t",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-6k11i5t"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: create nginx group\n      group: name=nginx system=yes gid=208\n    - name: create nginx user\n      user: name=nginx uid=208 group=nginx system=yes\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-u9wtzje",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u9wtzje"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02：安装httpd服务"
				}
			]
		},
		{
			"ID": "20230324100250-4e7e1w8",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-4e7e1w8"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: install httpd package\n      yum: name=httpd state=latest\n    - name: install config file for httpd\n      copy: src=/etc/httpd/conf/httpd.conf dest=/etc/httpd/conf/httpd.conf\n    - name: start httpd service\n      service: enabled=true name=httpd state=started\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-v0ls35a",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-v0ls35a"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "忽略错误信息"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_20",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-lmdrp31",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-lmdrp31"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "如果想忽略当前执行的tasks的错误，继续执行下一个，可以使用ignore_errors"
				}
			]
		},
		{
			"ID": "20230324100250-bulm8eo",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-bulm8eo"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "    - name: 02-temporary Disabled selinux\n      shell: setenforce 0\n      ignore_errors: True\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-40pqms1",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-40pqms1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "playbooks深入"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#playbooks_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-w985yo2",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-w985yo2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "handlers"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#handlers",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-5sv0kvi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-5sv0kvi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "用于当关注的资源发生变化时采取一定的操作，"
				}
			]
		},
		{
			"ID": "20230324100250-xf3sr4a",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xf3sr4a"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "notify这个action可用于在每个play的最后被触发，这样可以避免多次有改变发生时每次都执行指定的操作，仅在所有的变化完成后一次性执行指定操作，在notify中列出的操作称为handler，也即notify中调用handler中定义的操作"
				}
			]
		},
		{
			"ID": "20230324100250-gpgxat4",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-gpgxat4"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: install httpd package\n      yum: name=httpd state=latest\n    - name: install config file for httpd\n      copy: src=/etc/httpd/conf/httpd.conf dest=/etc/httpd/conf/httpd.conf\n      notify: restart httpd service\n    - name: start httpd service\n      service: enabled=true name=httpd state=started\n\n  handlers:\n    - name: restart httpd service\n      service: enabled=true name=httpd state=restarted\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-i2ds695",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-i2ds695"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "条件测试"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_21",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-cq16mpa",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-cq16mpa"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "在有的时候play的结果依赖于变量、fact或者是前一个任务的执行结果，从而需要使用到条件语句。"
				}
			]
		},
		{
			"ID": "20230324100250-q4wohla",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-q4wohla"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子01：当系统的发行版本为RedHat的时候，则输出如下内容"
				}
			]
		},
		{
			"ID": "20230324100250-lwbhvpu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-lwbhvpu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: This is test\n      command: echo \"This is test and\"\n      #when: ansible_os_family == \"RedHat\"\n      when: ansible_os_family == \"Debian\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-etza16n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-etza16n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子02：当主机名称为192-168-56-11的时候，创建一个user10的用户"
				}
			]
		},
		{
			"ID": "20230324100250-sx0s2pm",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-sx0s2pm"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  vars:\n    - username: user10\n  tasks:\n    - name: create {{ username }} user\n      user: name={{ username }}\n      when: ansible_fqdn == \"192-168-56-11\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-h0m3be6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-h0m3be6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "例子03：生产环境的例子"
				}
			]
		},
		{
			"ID": "20230324100250-x9uqd75",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-x9uqd75"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- name: Copy zabbix.repo to centos6\n  template: src=templates/zabbix_centos6.repo dest=/etc/yum.repos.d/zabbix.repo\n  when: ansible_distribution == \"CentOS\" and ansible_distribution_major_version == \"6\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-2w6j8gb",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-2w6j8gb"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "变量得出的方法"
				}
			]
		},
		{
			"ID": "20230324100250-n79oq1z",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-n79oq1z"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-200 test]# ansible 192.168.56.11 -m setup|grep ansible_distribution_major_version\n        \"ansible_distribution_major_version\": \"7\",\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-99cabg7",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-99cabg7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "迭代测试"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_22",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-blegv6q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-blegv6q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "当有需要重复性执行的任务时，可以使用迭代机制，其使用格式为将需要的迭代的内容定义为item。并通过with_items语句来指明迭代元素列表即可"
				}
			]
		},
		{
			"ID": "20230324100250-umr8vm0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-umr8vm0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "重复性的语句"
				}
			]
		},
		{
			"ID": "20230324100250-3leux2y",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3leux2y"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "    - name: add user testuser1\n      user: name=testuser1 state=present groups=wheel\n    - name: add user testuser2\n      user: name=testuser2 state=present groups=wheel\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-bcibajc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bcibajc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简单的写法"
				}
			]
		},
		{
			"ID": "20230324100250-d3dj9n9",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-d3dj9n9"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "    - name: add serveral user\n      user: name={{ item }} state=present groups=wheel\n      with_items:\n        - testuser1\n        - testuser2\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-x2ywhd0",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-x2ywhd0"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "事实上，with_items中可以使用元素，"
				}
			]
		},
		{
			"ID": "20230324100250-buzzzs2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-buzzzs2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: add several users\n      user: name={{ item.name }} state=present groups={{ item.groups }}\n      with_items:\n        - { name: 'testuser1', groups: 'wheel' }\n        - { name: 'testuser2', groups: 'root' }\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-liiot1m",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-liiot1m"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "tags标签"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#tags",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-7d33vl7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7d33vl7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "tags用于让用户选择运行或跳过playbook中的部分代码，ansible具有幂等性，因此会自动跳过没有变化的部分，即便如此，有些代码为测试其确实没有发生变化的时候依然会比较长，此时确信其没有变化，就可以通过tags跳过这些代码。"
				}
			]
		},
		{
			"ID": "20230324100250-nqoe56n",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nqoe56n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "tags：在playbook可以为某个或某些任务定义一个标签，在执行此playbook时，通过为ansible-playbook命令使用 --tags选项能实现仅运行指定的task而非所有的"
				}
			]
		},
		{
			"ID": "20230324100250-f5cg35m",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-f5cg35m"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: add user testuser1\n      user: name=testuser1 state=present groups=wheel\n    - name: add user testuser2\n      user: name=testuser2 state=present groups=wheel\n      tags: add_testuser2\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-v90lxob",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-v90lxob"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "运行如下"
				}
			]
		},
		{
			"ID": "20230324100250-9hzimhx",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-9hzimhx"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "ansible-playbook test01.yml --tags=\"add_testuser2\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-rv05fvj",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-rv05fvj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "meta依赖关系"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#meta",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-vf2mbxm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vf2mbxm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "meta/main.yml 用来配置模块一些元信息，比如支持的平台，Ansible最小依赖版本，"
				}
			]
		},
		{
			"ID": "20230324100250-vrsw1zr",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vrsw1zr"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "这个模块的标签，依赖，作者的信息等等。"
				}
			]
		},
		{
			"ID": "20230324100250-j3wwqqn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-j3wwqqn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible-galaxy init 创建项目生成的模板如下"
				}
			]
		},
		{
			"ID": "20230324100250-gwhgkwq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-gwhgkwq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "---\ngalaxy_info:\n  author: Sébastien Han\n  description: Installs Ceph Monitor\n  license: Apache\n  min_ansible_version: 1.7\n  platforms:\n    - name: Ubuntu\n      versions:\n        - trusty\n  categories:\n    - system\ndependencies:\n  - { role: ceph.ceph-common, when: not containerized_deployment }\n  - { role: ceph.ceph-docker-common, when: containerized_deployment }\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-vjo5dzf",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-vjo5dzf"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "roles角色入门"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#roles_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-r8bhl17",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-r8bhl17"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "简单介绍"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_23",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-t2wjsrq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-t2wjsrq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible自1.2版本引入的新特性，用于层次性，结构化组织playbook,roles能够根据层次结构自动装载变量文件，task以及handlers等，要使用roles只需在playbook中使用include指令即可，简单来讲，roles就是通过分别将变量，任务，模块及处理器放置于单独的目录中，并可以便捷地include他们的一种机制，角色一般用于基于主机构建服务的场景中，但也可以是用于构建守护进程等场景中。"
				}
			]
		},
		{
			"ID": "20230324100250-3ppqrhq",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-3ppqrhq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "创建role的步骤"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#role",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-i7y6w40",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-i7y6w40"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1)创建以roles命名的目录"
				}
			]
		},
		{
			"ID": "20230324100250-qd5hbgi",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qd5hbgi"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)在roles目录中分别创建以各角色命令的目录，如webservers等"
				}
			]
		},
		{
			"ID": "20230324100250-glatq11",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-glatq11"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(3)在每个角色命名的目录中分别创建files，handlers，meta，task，templates和vars目录，用不到的目录可以创建为空目录，也可以不创建"
				}
			]
		},
		{
			"ID": "20230324100250-rzpfymu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-rzpfymu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(4)在playbook文件中。使用各角色"
				}
			]
		},
		{
			"ID": "20230324100250-x6t9lll",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-x6t9lll"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "role目录结构"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#role_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-jyxlvxh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jyxlvxh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "目录结构："
				}
			]
		},
		{
			"ID": "20230324100250-spi6rsc",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-spi6rsc"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "├── roles #角色目录，里边可以有多个角色，这里只配置了一个common\n│   └── common\n│       ├── files #用于文件或目录分发的目录\n│       ├── handlers #放置处理程序，如重启某个服务\n│       │   └── main.yml\n│       ├── tasks #任务列表\n│       │   └── main.yml\n│       └── templates #放置模板目录，这里未用\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-tvcukm8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tvcukm8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "目录详解："
				}
			]
		},
		{
			"ID": "20230324100250-28b4cfh",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-28b4cfh"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "task目录：至少包含一个名为main.yml的文件，其定义了此角色的任务列表，此文件可以使用include包含其他位于此目录的task文件。"
				}
			]
		},
		{
			"ID": "20230324100250-s0rmjy7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-s0rmjy7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "files目录：存放于copy或scripts等模块调用的文件"
				}
			]
		},
		{
			"ID": "20230324100250-wqmzcs3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-wqmzcs3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "templates目录: template模块会自动在此目录中寻找Jinja2模板文件"
				}
			]
		},
		{
			"ID": "20230324100250-0c2jjsd",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-0c2jjsd"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "handlers目录：此目录中应该包含一个main.yml文件，用于定义此角色用到的各handler，在handler中使用include包含的其他的handler文件也应该位于此目录中"
				}
			]
		},
		{
			"ID": "20230324100250-qkk2ree",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qkk2ree"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "vars目录：应当包含一个main.yml文件，用于定义此角色用到的变量"
				}
			]
		},
		{
			"ID": "20230324100250-jqiddwu",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jqiddwu"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "meta目录：应当包含一个main.yml文件，用于定义此角色的特殊设定及其依赖关系"
				}
			]
		},
		{
			"ID": "20230324100250-y7hktvc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y7hktvc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "default目录：为当前角色设定默认变量时使用此目录，应当包含一个main.yml文件"
				}
			]
		},
		{
			"ID": "20230324100250-xzifo3o",
			"Type": "NodeHeading",
			"HeadingLevel": 4,
			"Properties": {
				"id": "20230324100250-xzifo3o"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "实战role"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#role_2",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-u0m1fy9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-u0m1fy9"
			},
			"Children": [
				{
					"Type": "NodeImage",
					"Data": "span",
					"Children": [
						{
							"Type": "NodeBang"
						},
						{
							"Type": "NodeOpenBracket"
						},
						{
							"Type": "NodeLinkText",
							"Data": "image-20211024104736947"
						},
						{
							"Type": "NodeCloseBracket"
						},
						{
							"Type": "NodeOpenParen"
						},
						{
							"Type": "NodeLinkDest",
							"Data": "assets/image-20211024104736947-20230324100250-opnqu2z.png"
						},
						{
							"Type": "NodeCloseParen"
						}
					]
				}
			]
		},
		{
			"ID": "20230324100250-um7pbta",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-um7pbta"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Playbooks代码规范"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#playbooks_3",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-374xf83",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-374xf83"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.代码脚本的层级规范为4格一个层级"
				}
			]
		},
		{
			"ID": "20230324100250-3lglpmo",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3lglpmo"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "role_init () {\n    HOSTVAR=([yum_repo_host]='base.yml' \\\n    [ntp_server_host]='chrony_install_and_config.yml' \\\n    [ntp_server_host]='ntp_install_and_config.yml' \\\n    [dns_server_host]='dns_config.yml')\n    TACK_PATH=\"./roles/init/tasks/main.yml\"\n    VARS_PATH=\"./group_vars/all\"\n    check_fun \"${!HOSTVAR[*]}\" \"${HOSTVAR[*]}\" \"${#HOSTVAR[@]}\" $TACK_PATH $VARS_PATH\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-tkf4als",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-tkf4als"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.playbook文件的名称统一首字母小写"
				}
			]
		},
		{
			"ID": "20230324100250-9iqpcdn",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-9iqpcdn"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-200 tasks]# ll\ntotal 68\n-rw-r--r-- 1 root root  534 Jun  9 17:38 add_user.yml\n-rw-r--r-- 1 root root 1385 Jun  9 17:38 base.yml\n-rw-r--r-- 1 root root  212 Jun  9 17:38 chrony_install_and_config.yml\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ae2lva4",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ae2lva4"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.单词与名称的连接最好统一使用下划线进行连接"
				}
			]
		},
		{
			"ID": "20230324100250-1r6nqaz",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-1r6nqaz"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\\4. playbook文件的内容中，name的名称都统一首字母大写"
				}
			]
		},
		{
			"ID": "20230324100250-d8vxmo9",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-d8vxmo9"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.tags名称统一首字母小写"
				}
			]
		},
		{
			"ID": "20230324100250-6d1pwvs",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6d1pwvs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "6.playbook文件统一使用include的方式进行编写"
				}
			]
		},
		{
			"ID": "20230324100250-ruk34vy",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-ruk34vy"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "7.提交commit的时候一定要有标题，然后接着是内容"
				}
			]
		},
		{
			"ID": "20230324100250-q6i28jm",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-q6i28jm"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "commit c5b821c695db62468e0e354e3e95c6471de55cc2\nAuthor: huangwenguang \u003c2393470186@qq.com\u003e\nDate:   Mon May 8 20:03:10 2017 +0800\n\n    Initialize the system\n\n    Add a role to the initialization system, and the default includes the following:\n    1.Password length and account limits\n    2.Stop the system service NetworkManager and firewalled\n    3.The Hostname config\n    4.The sshd and ssh config\n    5.Cover the CentOS-Base repository\n\n    other options:\n    1.Configure SSH authentication\n    2.Optimize users and groups\n    3.Add user\n    4.Limits configuration\n    5.The history size configuration\n    6.Disabled selinux\n    7.Copy epel repository\n    8.Installation packages include vim net-tools ntpdate\n    9.Chrony install and config\n    10.Network adapter configuration\n    11.The system kernel configuration\n    12.Dns configuration\n    13.Reboot the system\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-dz1po04",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dz1po04"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "8.如果你加入的是新功能的话，那么一定要创建一个新的分支，新的分支的名称一定简单易懂"
				}
			]
		},
		{
			"ID": "20230324100250-jya2j6q",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-jya2j6q"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "9.每个task任务之间需要空一行，保持代码的可读性"
				}
			]
		},
		{
			"ID": "20230324100250-jeibgrs",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-jeibgrs"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansible使用循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible_6",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-vyia9dv",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-vyia9dv"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "标准循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_24",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-662vrmn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-662vrmn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "模式1：标准循环"
				}
			]
		},
		{
			"ID": "20230324100250-8ip07a0",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-8ip07a0"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-200 test]# cat test01.yml\n- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: add several users\n      user: name={{ item }} state=present groups=wheel\n      with_items:\n        - testuser1\n        - testuser2\n#------------------end\nor\n  with_items: \"{{ somelist }}\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-kjwbq60",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kjwbq60"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "模式2：字典循环"
				}
			]
		},
		{
			"ID": "20230324100250-1sol4iw",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-1sol4iw"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: add several users\n      user: name={{ item.name }} state=present groups={{ item.groups }}\n      with_items:\n        - { name: 'testuser1', groups: 'wheel' }\n        - { name: 'testuser2', groups: 'root' }\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-lzwbe1n",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-lzwbe1n"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "嵌套循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_25",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-br4ik5l",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-br4ik5l"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: give users access to multiple databases\n      command: \"echo name={{ item[0] }} priv={{ item[1] }} test={{ item[2] }}\"\n      with_nested:\n        - [ 'alice', 'bob' ]\n        - [ 'clientdb', 'employeedb', 'providerdb' ]\n        - [ '1', '2', ]\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-p0erc7u",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-p0erc7u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "字典循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_26",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-3ut6vn8",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-3ut6vn8"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  vars:\n    users:\n      alice:\n          name: Alice Appleworth\n          telephone: 123-456-7890\n      bob:\n        name: Bob Bananarama\n        telephone: 987-654-3210\n  tasks:\n    - name: Print phone records\n      debug: msg=\"User {{ item.key }} is {{ item.value.name }} ({{ item.value.telephone }})\"\n      with_dict: \"{{ users }}\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-yyy9wzt",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-yyy9wzt"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "文件循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_27",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-dam3ldc",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dam3ldc"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "with_file 是将每个文件的文件内容作为item的值"
				}
			]
		},
		{
			"ID": "20230324100250-e208myk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-e208myk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "with_fileglob 是将每个文件的全路径作为item的值, 在文件目录下是非递归的, 如果是在role里面应用改循环, 默认路径是roles/role_name/files_directory"
				}
			]
		},
		{
			"ID": "20230324100250-oe1l5mk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-oe1l5mk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "准备环境"
				}
			]
		},
		{
			"ID": "20230324100250-lxmbf8l",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-lxmbf8l"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-200 test]# mkdir /tmp/file -p\n[root@192-168-56-200 test]# touch /tmp/file/file{1..20}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-qtqs5uj",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qtqs5uj"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(1) with_file例子"
				}
			]
		},
		{
			"ID": "20230324100250-5ul6lx0",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-5ul6lx0"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - copy: src={{ item }} dest=/opt/file/ owner=root mode=600\n      with_fileglob:\n        - /tmp/file/*\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-mqqx4g1",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mqqx4g1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "(2)with_together例子"
				}
			]
		},
		{
			"ID": "20230324100250-ktqqy9x",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-ktqqy9x"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - command: echo \"msg={{ item.0 }} and {{ item.1 }}\"\n      with_together:\n        - [ 1, 2, 3 ]\n        - [ 4, 5 ]\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-rmzhkv2",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-rmzhkv2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "子元素循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_28",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-z7qdr3b",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-z7qdr3b"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "with_subelements 有点类似与嵌套循环, 只不过第一个参数是个dict, 第二个参数是dict下的一个子项."
				}
			]
		},
		{
			"ID": "20230324100250-bav4f1z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bav4f1z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "整数序列(with_sequence)with_sequence 产生一个递增的整数序列,"
				}
			]
		},
		{
			"ID": "20230324100250-sp0odja",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-sp0odja"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    # create groups\n    - group: name=evens state=present\n    - group: name=odds state=present\n\n    # create some test users\n    - user: name={{ item }} state=present groups=evens\n      with_sequence: start=0 end=32 format=testuser%02x\n\n    # create a series of directories with even numbers for some reason\n    - file: dest=/var/stuff/{{ item }} state=directory\n      with_sequence: start=4 end=16 stride=2\n\n    # a simpler way to use the sequence plugin\n    # create 4 groups\n    - group: name=group{{ item }} state=present\n      with_sequence: count=4\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-kvij344",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-kvij344"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "flatten循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#flatten",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-hyvu06k",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-hyvu06k"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    - name: Example of looping over a command result\n      shell:  echo {{ item }}\n      with_flattened:\n        - [1, 2, 3]\n        - [[3,4 ]]\n        - [ ['red-package'], ['blue-package']]\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-ldzxvf3",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-ldzxvf3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "register循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#register_1",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-x0v1r5x",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-x0v1r5x"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n  - shell: echo \"{{ item }}\"\n    with_items:\n      - one\n      - two\n    register: echo\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-keqszc2",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-keqszc2"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "变量echo是一个字典, 字典中result是一个list, list中包含了每一个item的执行结果"
				}
			]
		},
		{
			"ID": "20230324100250-tl7iils",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-tl7iils"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "inventory循环"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#inventory_6",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-028km8z",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-028km8z"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: 192.168.56.11\n  remote_user: root\n  tasks:\n    # show all the hosts in the inventory\n    - debug: msg={{ item }}\n      with_inventory_hostnames: all\n\n    # show all the hosts matching the pattern, ie all but the group www\n    - debug: msg={{ item }}\n      with_inventory_hostnames: all:!www\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-2c79ph3",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-2c79ph3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "ansible-tower web界面"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansible-tower-web",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-ualz6i7",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-ualz6i7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "准备环境"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_29",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-yhltrnc",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-yhltrnc"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "1.The Tower installer creates a self-signed SSL certificate and keyfile at /etc/tower/tower.cert and /etc/tower/tower.key for HTTPS communication. These can be replaced after install with your own custom SSL certificates if you desire, but the filenames are required to be the same.(如果需要替换之前的/etc/tower/tower.cert、/etc/tower/tower.key证书，需要保证替换之后的证书和之前的证书名称相同)\n2.If using Ansible version 1.8 or later, ensure that fact caching using Redis is not enabled in ansible.cfg on the Tower machine.(如果使用可执行版本1.8或更高版本，请确保在Ansible Tower上的ansible.cfg中未启用使用Redis的fact caching。)\n3.Note that the Tower installation must be run from an internet connected machine that can install software from trusted 3rd-party places such as Ansible’s software repository, and your OS vendor’s software repositories.(请注意，Tower安装必须通过互联网连接的机器运行，该机器可以从可靠的第三方场所安装软件，如Ansible的软件仓库和您的OS供应商的软件库。)\n4.(1)支持的操作系统： \nRed Hat Enterprise Linux 7 64-bit \nCentOS 7 64-bit \nUbuntu 14.04 LTS 64-bit \nUbuntu 16.04 LTS 64-bit \n注意：Ansible Tower requires Red Hat Enterprise Linux 7.2 or later. \n(2)最少2G内存，推荐4G+内存 \n(3)20 GB of dedicated hard disk space(20 GB专用硬盘空间) \n10 GB of the 20 GB requirement must be dedicated to /var/, where Tower stores its files and working directories (dedicating less space will cause the installation to fail) \n(4)64-bit support required (kernel and runtime)\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-s2rpsoo",
			"Type": "NodeHeading",
			"HeadingLevel": 3,
			"Properties": {
				"id": "20230324100250-s2rpsoo"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "安装过程"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_30",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-otjwtx3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-otjwtx3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.下载ansible tower"
				}
			]
		},
		{
			"ID": "20230324100250-c060lva",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-c060lva"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "下载地址："
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://releases.ansible.com/ansible-tower/setup/",
					"TextMarkTextContent": "http://releases.ansible.com/ansible-tower/setup/"
				}
			]
		},
		{
			"ID": "20230324100250-o5kuzde",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-o5kuzde"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "含有安装包文件的版本："
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://releases.ansible.com/ansible-tower/setup-bundle/",
					"TextMarkTextContent": "http://releases.ansible.com/ansible-tower/setup-bundle/"
				}
			]
		},
		{
			"ID": "20230324100250-xk4xcin",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xk4xcin"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.安装ansible tower"
				}
			]
		},
		{
			"ID": "20230324100250-sgrsm90",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-sgrsm90"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "a.设置主机信息"
				}
			]
		},
		{
			"ID": "20230324100250-m4x5gel",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-m4x5gel"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "sed -i \"s#admin_password=''#admin_password='123456'#g\" inventory\nsed -i \"s#pg_host=''#pg_host='127.0.0.1'#g\" inventory \nsed -i \"s#pg_port=''#pg_port='5432'#g\" inventory\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-kkqdfev",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kkqdfev"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.安装postgresql数据库（YUM安装）"
				}
			]
		},
		{
			"ID": "20230324100250-cc8t0ev",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-cc8t0ev"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "yum install http://download.postgresql.org/pub/repos/yum/9.4/redhat/rhel-7.2-x86_64/pgdg-redhat94-9.4-3.noarch.rpm\nyum install postgresql94-server postgresql94-contrib\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-gw9rj8j",
			"Type": "NodeList",
			"ListData": {
				"Typ": 1
			},
			"Properties": {
				"id": "20230324100250-gw9rj8j"
			},
			"Children": [
				{
					"ID": "20230324100250-ms8h14w",
					"Type": "NodeListItem",
					"ListData": {
						"Typ": 1,
						"Delimiter": 46,
						"Marker": "MS4=",
						"Num": 1
					},
					"Properties": {
						"id": "20230324100250-ms8h14w"
					},
					"Children": [
						{
							"ID": "20230324100250-ucymnjg",
							"Type": "NodeParagraph",
							"Properties": {
								"id": "20230324100250-ucymnjg"
							},
							"Children": [
								{
									"Type": "NodeText",
									"Data": "设置开机启动"
								}
							]
						}
					]
				}
			]
		},
		{
			"ID": "20230324100250-gd0hy4s",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-gd0hy4s"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "systemctl enable postgresql-9.4.service\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-4l57qnn",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4l57qnn"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.初始化数据库"
				}
			]
		},
		{
			"ID": "20230324100250-12rc2lt",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-12rc2lt"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "/usr/pgsql-9.4/bin/postgresql94-setup initdb\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-eoref4v",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-eoref4v"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\\6. 启动postgresql"
				}
			]
		},
		{
			"ID": "20230324100250-aqf849t",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-aqf849t"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "service postgresql-9.4 start\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-6bzcplq",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-6bzcplq"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\\7. 创建用户"
				}
			]
		},
		{
			"ID": "20230324100250-bxe832m",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-bxe832m"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "su - postgres\n-bash-4.2$ psql\n    postgres=# CREATE ROLE awx CREATEDB PASSWORD 'admin' LOGIN; \n    postgres=# \\q\n    -bash-4.2$ exit\nsed -i 's#peer#md5#g' /var/lib/pgsql/9.4/data/pg_hba.conf\nsed -i 's#ident#md5#g' /var/lib/pgsql/9.4/data/pg_hba.conf\nservice postgresql-9.4 restart\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-hoh5gl7",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hoh5gl7"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "\\8. 测试awx用户连接，输入密码连接，并创建数据库"
				}
			]
		},
		{
			"ID": "20230324100250-clcnmnu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-clcnmnu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "-bash-4.2$ psql -U awx -d postgres -h 127.0.0.1\npostgres=# create database awx;\npostgres=# \\q\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-0t50lqk",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-0t50lqk"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "9.配置相关的参数"
				}
			]
		},
		{
			"ID": "20230324100250-7gh0jeb",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-7gh0jeb"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-17 ansible-tower-setup-bundle-3.0.3-1.el7]# vim inventory \n\n[primary]\nlocalhost ansible_connection=local\n\n[secondary]\n\n[database]\n\n[all:vars]\nadmin_password='123456'\nredis_password='123456'\n\npg_host='127.0.0.1'\npg_port='5432'\n\npg_database='awx'\npg_username='awx'\npg_password='admin'\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-7j4oh7g",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7j4oh7g"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "10.开始安装ansibler-tower"
				}
			]
		},
		{
			"ID": "20230324100250-2m8lloe",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-2m8lloe"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@192-168-56-17 ansible-tower-setup-bundle-3.0.3-1.el7]# ./setup.sh\n出现如下界面，则表示安装完成\nPLAY RECAP *********************************************************************\nlocalhost                  : ok=109  changed=45   unreachable=0    failed=0   \n\nThe setup process completed successfully.\nSetup log saved to /var/log/tower/setup-2017-06-15-11:13:01.log\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-pps1op1",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-pps1op1"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "Ansibel相关优化"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#ansibel",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-nug4s2e",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-nug4s2e"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "1.开启ansible任务的执行时间"
				}
			]
		},
		{
			"ID": "20230324100250-f7n5il0",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-f7n5il0"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\ncallback_whitelist = timer,profile_tasks\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-qwzgzpw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qwzgzpw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "2.fork 提高并行执行主机数量"
				}
			]
		},
		{
			"ID": "20230324100250-cosfpse",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-cosfpse"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\nfork = 100\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-7mjna3z",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-7mjna3z"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "3.poll_interval：降低轮询间隔时间，有助于加快获取任务结果"
				}
			]
		},
		{
			"ID": "20230324100250-6utd26m",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-6utd26m"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\npoll_interval = 1\ninternal_poll_interval = 0.001\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-3ya9a8h",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-3ya9a8h"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "4.fact_cache：将facts信息第一次收集后缓存到Memcache/Redis或者文件中"
				}
			]
		},
		{
			"ID": "20230324100250-yvy6z43",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-yvy6z43"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\nfact_caching = jsonfile\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-2r0hwei",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-2r0hwei"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "5.选择性收集facts信息"
				}
			]
		},
		{
			"ID": "20230324100250-mrpgcsb",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-mrpgcsb"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "在配置文件中可排除收集：\n[defaults]\ngather_subset = !hardware\n \n在play中定义：\n- hosts: all\n  gather_facts: false\n \n只收集minimal：\n- hosts: all\n  gather_facts: false\n  pre_tasks:\n  - setup:\n    gather_subset:\n    - '!all'\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-srxi5op",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-srxi5op"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "6.ssh参数:增加control_path的使用时间"
				}
			]
		},
		{
			"ID": "20230324100250-d5odaqj",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-d5odaqj"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[ssh_connection]\nssh_args = -C -o ControlMaster=auto -o ControlPersist=180s\n默认会有\n-o PreferredAuthentications = gssapi-with-mic,gssapi-keyex,hostbased,publickey\n如果只有publickey一种认证方式可以只指定publickey\n-o PreferredAuthentications = publickey\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-3tomrn5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-3tomrn5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "7.control_path:开后ssh socket持久化，复用ssh连接"
				}
			]
		},
		{
			"ID": "20230324100250-m74vur2",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-m74vur2"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[ssh_connection]\ncontrol_path = %(directory)s/ansible-ssh-%%h-%%r\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-185i68f",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-185i68f"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "8.pipelinling:开后ssh pipelining,容户端从管道中读取执行渲染后的脚本，而不是在客户端创建临时文件"
				}
			]
		},
		{
			"ID": "20230324100250-1l4ksyg",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-1l4ksyg"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[ssh_connection]\npipelining = True\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-qgn0lo8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-qgn0lo8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "9.serial:将play_hosts中的主机再分批执行,降低控制机的cpu便用"
				}
			]
		},
		{
			"ID": "20230324100250-j8q98n5",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-j8q98n5"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: all\n  serial: 50%\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-kcjq72y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-kcjq72y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "10.strategy:默认linear,每个主机的单个task执行完成会等待其他都完成后再执行下个任务，设置free可不等待其他主机"
				}
			]
		},
		{
			"ID": "20230324100250-drr3lp9",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-drr3lp9"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: all\n  strategy: linear\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-2j099f5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-2j099f5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "11.mitogen strategy（"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "https://mitogen.networkgenomics.com/ansible_detailed.html",
					"TextMarkTextContent": "https://mitogen.networkgenomics.com/ansible_detailed.html"
				},
				{
					"Type": "NodeText",
					"Data": "） 插件:提高ansible的执行效率，在理想的环境下预计速度将提高1.25倍至7倍，并且CPU使用率至少降低2 倍"
				}
			]
		},
		{
			"ID": "20230324100250-scrtpmd",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-scrtpmd"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "mitogen 插件确实牛逼闪闪："
				}
			]
		},
		{
			"ID": "20230324100250-op4u5ht",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-op4u5ht"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "§ 主机使用一个连接复用(默认每执行一个task或者loop循环都会重新打开一次连接)"
				}
			]
		},
		{
			"ID": "20230324100250-hj26ikm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-hj26ikm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "§ 渲染的执行代码暂存于内存中"
				}
			]
		},
		{
			"ID": "20230324100250-18k8lhg",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-18k8lhg"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "§ 减少多路复用ssh隧道的时间消耗"
				}
			]
		},
		{
			"ID": "20230324100250-r7u3ml5",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-r7u3ml5"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "§ 减少临时文件传输的带宽"
				}
			]
		},
		{
			"ID": "20230324100250-dejxi6t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-dejxi6t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "§ 代码重用，避免了调用Python和重新编译导入的成本"
				}
			]
		},
		{
			"ID": "20230324100250-tyl3dvy",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-tyl3dvy"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[defaults]\nstrategy_plugins = /path/to/mitogen-0.2.9/ansible_mitogen/plugins/strategy\nstrategy = mitogen_linear\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-vh1bvug",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-vh1bvug"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "- hosts: web-servers\n  strategy: linear\n  tasks:\n  - name: Install Python if necessary.\n    raw: test -e /usr/bin/python || apt install -y python-minimal\n- hosts: web-servers\n  strategy: mitogen_linear\n  roles:\n  - nginx\n  - initech_app\n  - y2k_fix\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-y8mp3ui",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-y8mp3ui"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "测试："
				}
			]
		},
		{
			"ID": "20230324100250-eregqx3",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-eregqx3"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置插件前："
				}
			]
		},
		{
			"ID": "20230324100250-3yckx1u",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-3yckx1u"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "配置插件后："
				}
			]
		},
		{
			"ID": "20230324100250-xvf66vw",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-xvf66vw"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "循环执行shell提高了22.6倍，循环传输文件提高了8.7倍。"
				}
			]
		},
		{
			"ID": "20230324100250-zmtksft",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-zmtksft"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "测试playbook："
				}
			]
		},
		{
			"ID": "20230324100250-v4gpniq",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-v4gpniq"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "---\n- hosts: kgc_server\n  tasks:\n  - name: Create directory\n    file: path=/tmp/soft state=directory\n \n  - name: Loop copy files\n    copy: src={{ item }} dest=/tmp/soft/\n    loop:\n      - \"{{ inventory_dir }}/tf_1\"\n      - \"{{ inventory_dir }}/tf_2\"\n      - \"{{ inventory_dir }}/tf_3\"\n      - \"{{ inventory_dir }}/tf_4\"\n      - \"{{ inventory_dir }}/tf_5\"\n \n  - name: Loop execution shell\n    shell: echo {{ item }}\n    loop: \"{{ range(0,100) | list }}\"\n \n  - name: Delete tmp\n    file: path=/tmp/soft state=absent\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-9imrxft",
			"Type": "NodeHeading",
			"HeadingLevel": 2,
			"Properties": {
				"id": "20230324100250-9imrxft"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "遇到的问题总结"
				},
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.chrisjing.com/005-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86/01-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7-ansible/#_31",
					"TextMarkATitle": "Permanent link",
					"TextMarkTextContent": "¶"
				}
			]
		},
		{
			"ID": "20230324100250-17vjtm6",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-17vjtm6"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "问题1：在使用copy模块的时候，部分主机出现以下报错："
				}
			]
		},
		{
			"ID": "20230324100250-n3qylyz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-n3qylyz"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "\"msg\": \"Aborting, target uses selinux but python bindings (libselinux-python) aren't installed!\"\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-92ee3dp",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-92ee3dp"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "解决方法：在被管理的主机上安装libselinux"
				}
			]
		},
		{
			"ID": "20230324100250-buiurlu",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-buiurlu"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "yum -y install libselinux-python\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-80eol6t",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-80eol6t"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "问题2：在执行ansible host -m ping的时候遇到如下报错"
				}
			]
		},
		{
			"ID": "20230324100250-wus5ajh",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-wus5ajh"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "192.168.56.6 | UNREACHABLE! =\u003e {\n    \"changed\": false, \n    \"msg\": \"Failed to connect to the host via ssh.\", \n    \"unreachable\": true\n}\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-4gn8042",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-4gn8042"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "解决方法：修改配置文件/etc/ansible/ansible.cfg"
				}
			]
		},
		{
			"ID": "20230324100250-znpm2zz",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-znpm2zz"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "[root@linux-node-ansible ansible]# vim /etc/ansible/ansible.cfg\nhost_key_checking = False       #将True改为False\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-mspyb16",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-mspyb16"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "然后清空/root/.ssh/known_hosts配置文件，重新执行命令即可"
				}
			]
		},
		{
			"ID": "20230324100250-vu1d11y",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vu1d11y"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "问题3：ansible “failed to resolve remote temporary directory from ansible-tmp”"
				}
			]
		},
		{
			"ID": "20230324100250-vz8t6vm",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-vz8t6vm"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "问题最终解决办法安装高版本的openssh"
				}
			]
		},
		{
			"ID": "20230324100250-zopwkwb",
			"Type": "NodeCodeBlock",
			"IsFencedCodeBlock": true,
			"Properties": {
				"id": "20230324100250-zopwkwb"
			},
			"Children": [
				{
					"Type": "NodeCodeBlockFenceOpenMarker",
					"Data": "```"
				},
				{
					"Type": "NodeCodeBlockFenceInfoMarker"
				},
				{
					"Type": "NodeCodeBlockCode",
					"Data": "yum update openssh -y\n"
				},
				{
					"Type": "NodeCodeBlockFenceCloseMarker",
					"Data": "```"
				}
			]
		},
		{
			"ID": "20230324100250-bzf25h8",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-bzf25h8"
			},
			"Children": [
				{
					"Type": "NodeText",
					"Data": "nsible “failed to resolve remote temporary directory from ansible-tmp” 问题最终解决办法"
				}
			]
		},
		{
			"ID": "20230324100250-pbfc765",
			"Type": "NodeParagraph",
			"Properties": {
				"id": "20230324100250-pbfc765"
			},
			"Children": [
				{
					"Type": "NodeTextMark",
					"TextMarkType": "a",
					"TextMarkAHref": "http://www.ppzedu.com/archives/728.html",
					"TextMarkTextContent": "http://www.ppzedu.com/archives/728.html"
				}
			]
		}
	]
}